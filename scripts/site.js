"use strict";window.getWindowLocationSearch=function(win){var search=(win||window).location.search;if(!search){var index=window.location.href.indexOf("?");-1!=index&&(search=window.location.href.substring(index))}return search||""},window.getParameterByName=function(name,url){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var results=new RegExp("[\\?&]"+name+"=([^&#]*)","i").exec(url||getWindowLocationSearch());return null==results?"":decodeURIComponent(results[1].replace(/\+/g," "))},window.pageClassOn=function(eventName,className,fn){document.addEventListener(eventName,(function(event){var target=event.target;target.classList.contains(className)&&fn.call(target,event)}))},window.pageIdOn=function(eventName,id,fn){document.addEventListener(eventName,(function(event){var target=event.target;target.id===id&&fn.call(target,event)}))};var AppInfo={};function initClient(){function createConnectionManager(){return require(["connectionManagerFactory","apphost","credentialprovider","events","userSettings"],(function(ConnectionManager,appHost,credentialProvider,events,userSettings){appHost=appHost.default||appHost;var credentialProviderInstance=new credentialProvider,promises=[appHost.init()];return Promise.all(promises).then((function(responses){var capabilities=Dashboard.capabilities(appHost),connectionManager=new ConnectionManager(credentialProviderInstance,appHost.appName(),appHost.appVersion(),appHost.deviceName(),appHost.deviceId(),capabilities);return function defineConnectionManager(connectionManager){window.ConnectionManager=connectionManager,define("connectionManager",[],(function(){return connectionManager}))}(connectionManager),function bindConnectionManagerEvents(connectionManager,events,userSettings){window.Events=events,connectionManager.currentApiClient=function(){if(!localApiClient){var server=connectionManager.getLastUsedServer();server&&(localApiClient=connectionManager.getApiClient(server.Id))}return localApiClient},connectionManager.onLocalUserSignedIn=function(user){return localApiClient=connectionManager.getApiClient(user.ServerId),window.ApiClient=localApiClient,userSettings.setUserInfo(user.Id,localApiClient)},events.on(connectionManager,"localusersignedout",(function(){userSettings.setUserInfo(null,null)}))}(connectionManager,events,userSettings),AppInfo.isNativeApp?Promise.resolve():(console.debug("loading ApiClient singleton"),require(["apiclient","clientUtils"],(function(apiClientFactory,clientUtils){console.debug("creating ApiClient singleton");var apiClient=new apiClientFactory(Dashboard.serverAddress(),appHost.appName(),appHost.appVersion(),appHost.deviceName(),appHost.deviceId());apiClient.enableAutomaticNetworking=!1,apiClient.manualAddressOnly=!0,connectionManager.addApiClient(apiClient),window.ApiClient=apiClient,localApiClient=apiClient,console.debug("loaded ApiClient singleton")})))}))}))}function returnFirstDependency(obj){return obj}function returnDefault(obj){if(null===obj.default)throw new Error("Object has no default!");return obj.default}function getPlaybackManager(playbackManager){return window.addEventListener("beforeunload",(function(){try{playbackManager.default.onAppClose()}catch(err){console.error("error in onAppClose: "+err)}})),playbackManager}function getLayoutManager(layoutManager,appHost){return layoutManager=layoutManager.default||layoutManager,(appHost=appHost.default||appHost).getDefaultLayout&&(layoutManager.defaultLayout=appHost.getDefaultLayout()),layoutManager.init(),layoutManager}function createSharedAppFooter(_ref){return new(0,_ref.default)({})}function onRequireJsError(requireType,requireModules){console.error("RequireJS error: "+(requireType||"unknown")+". Failed modules: "+(requireModules||[]).join(","))}function init(){define("livetvcss",["css!assets/css/livetv.css"],returnFirstDependency),define("detailtablecss",["css!assets/css/detailtable.css"],returnFirstDependency),require(["clientUtils"]);var promises=[];window.fetch||promises.push(require(["fetch"])),Promise.all(promises).then((function(){createConnectionManager().then((function(){console.debug("initAfterDependencies promises resolved"),require(["globalize","browser"],(function(globalize,browser){window.Globalize=globalize,function loadCoreDictionary(globalize){var translations=["ar","be-by","bg-bg","ca","cs","da","de","el","en-gb","en-us","es","es-ar","es-mx","fa","fi","fr","fr-ca","gsw","he","hi-in","hr","hu","id","it","kk","ko","lt-lt","ms","nb","nl","pl","pt-br","pt-pt","ro","ru","sk","sl-si","sv","tr","uk","vi","zh-cn","zh-hk","zh-tw"].map((function(language){return{lang:language,path:"strings/"+language+".json"}}));return globalize.defaultModule("core"),globalize.loadStrings({name:"core",translations:translations})}(globalize).then((function(){!function onGlobalizeInit(browser,globalize){if("android"===window.appMode&&-1!==window.location.href.toString().toLowerCase().indexOf("start=backgroundsync"))return onAppReady(browser);document.title=globalize.translateHtml(document.title,"core"),browser.tv&&!browser.android?(console.debug("using system fonts with explicit sizes"),require(["systemFontsSizedCss"])):(console.debug("using default fonts"),require(["systemFontsCss"]));require(["apphost","css!assets/css/librarybrowser"],(function(appHost){(function loadPlugins(appHost,browser,shell){return console.groupCollapsed("loading installed plugins"),new Promise((function(resolve,reject){require(["webSettings"],(function(webSettings){webSettings.getPlugins().then((function(list){appHost.supports("remotecontrol")||(list.splice(list.indexOf("sessionPlayer"),1),browser.chrome||browser.opera||list.splice(list.indexOf("chromecastPlayer",1))),window.NativeShell&&(list=list.concat(window.NativeShell.getPlugins())),Promise.all(list.map(loadPlugin)).then((function(){console.debug("finished loading plugins")})).catch((function(){return reject})).finally((function(){console.groupEnd("loading installed plugins"),require(["packageManager"],(function(packageManager){packageManager.default.init().then(resolve,reject)}))}))}))}))}))})(appHost=appHost.default||appHost,browser).then((function(){onAppReady(browser)}))}))}(browser,globalize)}))})),require(["keyboardnavigation"],(function(keyboardnavigation){keyboardnavigation.enable()})),require(["mouseManager"]),require(["focusPreventScroll"]),require(["vendorStyles"]),require(["autoFocuser"],(function(autoFocuser){autoFocuser.enable()})),require(["globalize","connectionManager","events"],(function(globalize,connectionManager,events){events.on(connectionManager,"localusersignedin",globalize.updateCurrentCulture)}))}))}))}function loadPlugin(url){return new Promise((function(resolve,reject){require(["pluginManager"],(function(pluginManager){pluginManager.default.loadPlugin(url).then(resolve,reject)}))}))}function onAppReady(browser){console.debug("begin onAppReady"),require(["apphost","appRouter"],(function(appHost,appRouter){appRouter=appRouter.default||appRouter,appHost=appHost.default||appHost,window.Emby={},console.debug("onAppReady: loading dependencies"),browser.iOS&&require(["css!assets/css/ios.css"]),window.Emby.Page=appRouter,require(["emby-button","scripts/autoThemes","libraryMenu","scripts/routes"],(function(){Emby.Page.start({click:!1,hashbang:!0}),require(["components/themeMediaPlayer","scripts/autoBackdrops"]),browser.tv||browser.xboxOne||browser.ps4||require(["components/nowPlayingBar/nowPlayingBar"]),appHost.supports("remotecontrol")&&require(["playerSelectionMenu","components/playback/remotecontrolautoplay"]),require(["libraries/screensavermanager"]),appHost.supports("physicalvolumecontrol")&&!browser.touch||require(["components/playback/volumeosd"]),(navigator.mediaSession||window.NativeShell)&&require(["mediaSession"]),require(["serverNotifications"]),require(["date-fns","date-fns/locale"]),browser.tv||browser.xboxOne||(require(["components/playback/playbackorientation"]),function registerServiceWorker(){if(navigator.serviceWorker&&"cordova"!==window.appMode&&"android"!==window.appMode)try{navigator.serviceWorker.register("serviceworker.js")}catch(err){console.error("error registering serviceWorker: "+err)}else console.warn("serviceWorker unsupported")}(),window.Notification&&require(["components/notifications/notifications"])),require(["playerSelectionMenu"]);var apiClient=window.ConnectionManager&&window.ConnectionManager.currentApiClient();apiClient&&fetch(apiClient.getUrl("Branding/Css")).then((function(response){if(!response.ok)throw new Error(response.status+" "+response.statusText);return response.text()})).then((function(css){var style=document.querySelector("#cssBranding");style||((style=document.createElement("style")).id="cssBranding",document.body.appendChild(style)),style.textContent=css})).catch((function(err){console.warn("Error applying custom css",err)}))}))}))}var promise,localApiClient;!function initRequireJs(){var urlArgs="v="+(window.dashboardVersion||(new Date).getDate()),paths={browserdeviceprofile:"scripts/browserDeviceProfile",browser:"scripts/browser",libraryBrowser:"scripts/libraryBrowser",inputManager:"scripts/inputManager",datetime:"scripts/datetime",globalize:"scripts/globalize",dfnshelper:"scripts/dfnshelper",libraryMenu:"scripts/libraryMenu",playlisteditor:"components/playlisteditor/playlisteditor",medialibrarycreator:"components/mediaLibraryCreator/mediaLibraryCreator",medialibraryeditor:"components/mediaLibraryEditor/mediaLibraryEditor",imageoptionseditor:"components/imageOptionsEditor/imageOptionsEditor",apphost:"components/apphost",visibleinviewport:"libraries/visibleinviewport",qualityoptions:"components/qualityOptions",focusManager:"components/focusManager",itemHelper:"components/itemHelper",itemShortcuts:"components/shortcuts",playQueueManager:"components/playback/playqueuemanager",nowPlayingHelper:"components/playback/nowplayinghelper",pluginManager:"components/pluginManager",packageManager:"components/packageManager",screensaverManager:"components/screensavermanager",clientUtils:"scripts/clientUtils",appRouter:"components/appRouter"};requirejs.onError=onRequireJsError,requirejs.config({waitSeconds:0,map:{"*":{css:"components/require/requirecss",text:"components/require/requiretext"}},bundles:{bundle:["fetch","flvjs","jstree","epubjs","jQuery","hlsjs","howler","native-promise-only","resize-observer-polyfill","swiper","queryString","sortable","webcomponents","material-icons","jellyfin-noto","date-fns","page","polyfill","fast-text-encoding","intersection-observer","classlist-polyfill","screenfull","headroom","apiclient","events","credentialprovider","connectionManagerFactory","appStorage"]},urlArgs:urlArgs,paths:paths,onError:onRequireJsError}),promise=require(["fetch"]).then((function(){return require(["jQuery","polyfill","fast-text-encoding","intersection-observer","classlist-polyfill","css!assets/css/site","jellyfin-noto"],(function(jQuery){window.$=jQuery,window.jQuery=jQuery}))})),define("systemFontsCss",["css!assets/css/fonts"],returnFirstDependency),define("systemFontsSizedCss",["css!assets/css/fonts.sized"],returnFirstDependency),define("scrollStyles",["css!assets/css/scrollstyles"],returnFirstDependency),define("dashboardcss",["css!assets/css/dashboard"],returnFirstDependency),define("programStyles",["css!components/guide/programs"],returnFirstDependency),define("listViewStyle",["css!components/listview/listview"],returnFirstDependency),define("formDialogStyle",["css!components/formdialog"],returnFirstDependency),define("clearButtonStyle",["css!assets/css/clearbutton"],returnFirstDependency),define("cardStyle",["css!components/cardbuilder/card"],returnFirstDependency),define("flexStyles",["css!assets/css/flexstyles"],returnFirstDependency),define("appFooter",["components/appFooter/appFooter"],returnFirstDependency),define("appFooter-shared",["appFooter"],createSharedAppFooter),define("scroller",["libraries/scroller"],returnFirstDependency),define("navdrawer",["libraries/navdrawer/navdrawer"],returnFirstDependency),define("emby-button",["elements/emby-button/emby-button"],returnFirstDependency),define("paper-icon-button-light",["elements/emby-button/paper-icon-button-light"],returnFirstDependency),define("emby-checkbox",["elements/emby-checkbox/emby-checkbox"],returnFirstDependency),define("emby-collapse",["elements/emby-collapse/emby-collapse"],returnFirstDependency),define("emby-input",["elements/emby-input/emby-input"],returnFirstDependency),define("emby-progressring",["elements/emby-progressring/emby-progressring"],returnFirstDependency),define("emby-radio",["elements/emby-radio/emby-radio"],returnFirstDependency),define("emby-select",["elements/emby-select/emby-select"],returnFirstDependency),define("emby-slider",["elements/emby-slider/emby-slider"],returnFirstDependency),define("emby-textarea",["elements/emby-textarea/emby-textarea"],returnFirstDependency),define("emby-toggle",["elements/emby-toggle/emby-toggle"],returnFirstDependency),define("emby-scroller",["elements/emby-scroller/emby-scroller"],returnFirstDependency),define("emby-tabs",["elements/emby-tabs/emby-tabs"],returnFirstDependency),define("emby-scrollbuttons",["elements/emby-scrollbuttons/emby-scrollbuttons"],returnFirstDependency),define("emby-itemrefreshindicator",["elements/emby-itemrefreshindicator/emby-itemrefreshindicator"],returnFirstDependency),define("emby-itemscontainer",["elements/emby-itemscontainer/emby-itemscontainer"],returnFirstDependency),define("emby-playstatebutton",["elements/emby-playstatebutton/emby-playstatebutton"],returnFirstDependency),define("emby-ratingbutton",["elements/emby-ratingbutton/emby-ratingbutton"],returnFirstDependency),define("emby-progressbar",["elements/emby-progressbar/emby-progressbar"],returnFirstDependency),define("emby-programcell",["elements/emby-programcell/emby-programcell"],returnFirstDependency),define("webSettings",["scripts/settings/webSettings"],returnFirstDependency),define("appSettings",["scripts/settings/appSettings"],returnFirstDependency),define("userSettings",["scripts/settings/userSettings"],returnFirstDependency),define("mediaSession",["components/playback/mediasession"],returnFirstDependency),define("actionsheet",["components/actionSheet/actionSheet"],returnFirstDependency),define("tunerPicker",["components/tunerPicker"],returnFirstDependency),define("mainTabsManager",["components/maintabsmanager"],returnFirstDependency),define("imageLoader",["components/images/imageLoader"],returnFirstDependency),define("directorybrowser",["components/directorybrowser/directorybrowser"],returnFirstDependency),define("metadataEditor",["components/metadataEditor/metadataEditor"],returnFirstDependency),define("personEditor",["components/metadataEditor/personEditor"],returnFirstDependency),define("playerSelectionMenu",["components/playback/playerSelectionMenu"],returnFirstDependency),define("playerSettingsMenu",["components/playback/playersettingsmenu"],returnFirstDependency),define("playMethodHelper",["components/playback/playmethodhelper"],returnFirstDependency),define("brightnessOsd",["components/playback/brightnessosd"],returnFirstDependency),define("alphaNumericShortcuts",["scripts/alphanumericshortcuts"],returnFirstDependency),define("multiSelect",["components/multiSelect/multiSelect"],returnFirstDependency),define("alphaPicker",["components/alphaPicker/alphaPicker"],returnFirstDependency),define("tabbedView",["components/tabbedview/tabbedview"],returnFirstDependency),define("collectionEditor",["components/collectionEditor/collectionEditor"],returnFirstDependency),define("playlistEditor",["components/playlisteditor/playlisteditor"],returnFirstDependency),define("recordingCreator",["components/recordingcreator/recordingcreator"],returnFirstDependency),define("recordingEditor",["components/recordingcreator/recordingeditor"],returnFirstDependency),define("seriesRecordingEditor",["components/recordingcreator/seriesrecordingeditor"],returnFirstDependency),define("recordingFields",["components/recordingcreator/recordingfields"],returnFirstDependency),define("recordingButton",["components/recordingcreator/recordingbutton"],returnFirstDependency),define("recordingHelper",["components/recordingcreator/recordinghelper"],returnFirstDependency),define("subtitleEditor",["components/subtitleeditor/subtitleeditor"],returnFirstDependency),define("subtitleSync",["components/subtitlesync/subtitlesync"],returnFirstDependency),define("itemIdentifier",["components/itemidentifier/itemidentifier"],returnFirstDependency),define("itemMediaInfo",["components/itemMediaInfo/itemMediaInfo"],returnFirstDependency),define("mediaInfo",["components/mediainfo/mediainfo"],returnFirstDependency),define("itemContextMenu",["components/itemContextMenu"],returnFirstDependency),define("imageEditor",["components/imageeditor/imageeditor"],returnFirstDependency),define("imageDownloader",["components/imageDownloader/imageDownloader"],returnFirstDependency),define("dom",["scripts/dom"],returnFirstDependency),define("playerStats",["components/playerstats/playerstats"],returnFirstDependency),define("searchFields",["components/search/searchfields"],returnFirstDependency),define("searchResults",["components/search/searchresults"],returnFirstDependency),define("upNextDialog",["components/upnextdialog/upnextdialog"],returnFirstDependency),define("subtitleAppearanceHelper",["components/subtitlesettings/subtitleappearancehelper"],returnFirstDependency),define("subtitleSettings",["components/subtitlesettings/subtitlesettings"],returnFirstDependency),define("settingsHelper",["components/settingshelper"],returnFirstDependency),define("displaySettings",["components/displaySettings/displaySettings"],returnFirstDependency),define("playbackSettings",["components/playbackSettings/playbackSettings"],returnFirstDependency),define("homescreenSettings",["components/homeScreenSettings/homeScreenSettings"],returnFirstDependency),define("playbackManager",["components/playback/playbackmanager"],getPlaybackManager),define("timeSyncManager",["components/syncPlay/timeSyncManager"],returnDefault),define("groupSelectionMenu",["components/syncPlay/groupSelectionMenu"],returnFirstDependency),define("syncPlayManager",["components/syncPlay/syncPlayManager"],returnDefault),define("playbackPermissionManager",["components/syncPlay/playbackPermissionManager"],returnDefault),define("layoutManager",["components/layoutManager","apphost"],getLayoutManager),define("homeSections",["components/homesections/homesections"],returnFirstDependency),define("playMenu",["components/playmenu"],returnFirstDependency),define("refreshDialog",["components/refreshdialog/refreshdialog"],returnFirstDependency),define("backdrop",["components/backdrop/backdrop"],returnFirstDependency),define("fetchHelper",["components/fetchhelper"],returnFirstDependency),define("cardBuilder",["components/cardbuilder/cardBuilder"],returnFirstDependency),define("peoplecardbuilder",["components/cardbuilder/peoplecardbuilder"],returnFirstDependency),define("chaptercardbuilder",["components/cardbuilder/chaptercardbuilder"],returnFirstDependency),define("deleteHelper",["scripts/deleteHelper"],returnFirstDependency),define("tvguide",["components/guide/guide"],returnFirstDependency),define("guide-settings-dialog",["components/guide/guide-settings"],returnFirstDependency),define("viewManager",["components/viewManager/viewManager"],(function(viewManager){return window.ViewManager=viewManager.default,viewManager.default.dispatchPageEvents(!0),viewManager})),define("slideshow",["components/slideshow/slideshow"],returnFirstDependency),define("focusPreventScroll",["legacy/focusPreventScroll"],returnFirstDependency),define("vendorStyles",["legacy/vendorStyles"],returnFirstDependency),define("userdataButtons",["components/userdatabuttons/userdatabuttons"],returnFirstDependency),define("listView",["components/listview/listview"],returnFirstDependency),define("indicators",["components/indicators/indicators"],returnFirstDependency),define("viewSettings",["components/viewSettings/viewSettings"],returnFirstDependency),define("filterMenu",["components/filtermenu/filtermenu"],returnFirstDependency),define("sortMenu",["components/sortmenu/sortmenu"],returnFirstDependency),define("sanitizefilename",["components/sanitizeFilename"],returnFirstDependency),define("toast",["components/toast/toast"],returnFirstDependency),define("scrollHelper",["scripts/scrollHelper"],returnFirstDependency),define("touchHelper",["scripts/touchHelper"],returnFirstDependency),define("imageUploader",["components/imageUploader/imageUploader"],returnFirstDependency),define("htmlMediaHelper",["components/htmlMediaHelper"],returnFirstDependency),define("viewContainer",["components/viewContainer"],returnFirstDependency),define("dialogHelper",["components/dialogHelper/dialogHelper"],returnFirstDependency),define("serverNotifications",["scripts/serverNotifications"],returnFirstDependency),define("skinManager",["scripts/themeManager"],returnFirstDependency),define("keyboardnavigation",["scripts/keyboardNavigation"],returnFirstDependency),define("mouseManager",["scripts/mouseManager"],returnFirstDependency),define("scrollManager",["components/scrollManager"],returnFirstDependency),define("autoFocuser",["components/autoFocuser"],returnFirstDependency),define("connectionManager",[],(function(){return ConnectionManager})),define("apiClientResolver",[],(function(){return function(){return window.ApiClient}}))}(),promise.then((function onWebComponentsReady(){define("filesystem",["scripts/filesystem"],returnFirstDependency),define("lazyLoader",["components/lazyLoader/lazyLoaderIntersectionObserver"],returnFirstDependency),define("shell",["scripts/shell"],returnFirstDependency),define("alert",["components/alert"],returnFirstDependency),function defineResizeObserver(){window.ResizeObserver?define("ResizeObserver",[],(function(){return window.ResizeObserver})):define("ResizeObserver",["resize-observer-polyfill"],returnFirstDependency)}(),define("dialog",["components/dialog/dialog"],returnFirstDependency),define("confirm",["components/confirm/confirm"],returnFirstDependency),define("prompt",["components/prompt/prompt"],returnFirstDependency),define("loading",["components/loading/loading"],returnFirstDependency),define("multi-download",["scripts/multiDownload"],returnFirstDependency),define("fileDownloader",["scripts/fileDownloader"],returnFirstDependency),define("castSenderApiLoader",["components/castSenderApi"],returnFirstDependency),"cordova"!==window.appMode&&"android"!==window.appMode&&"standalone"!==window.appMode||(AppInfo.isNativeApp=!0),init()}))}initClient(),pageClassOn("viewshow","standalonePage",(function(){document.querySelector(".skinHeader").classList.add("noHeaderRight")})),pageClassOn("viewhide","standalonePage",(function(){document.querySelector(".skinHeader").classList.remove("noHeaderRight")}));
//# sourceMappingURL=site.js.map
