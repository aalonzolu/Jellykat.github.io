{"version":3,"sources":["scripts/settings/webSettings.js"],"names":["define","_exports","asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","data","getConfig","_getConfig","regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","abrupt","fetch","cache","sent","ok","Error","json","t0","console","warn","getDefaultConfig","stop","_getDefaultConfig","_callee2","_callee2$","_context2","Object","defineProperty","getMultiServer","config","multiserver","catch","log","getThemes","themes","getPlugins","plugins"],"mappings":"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","file":"webSettings.js","sourcesContent":["let data;\n\nasync function getConfig() {\n    if (data) return Promise.resolve(data);\n    try {\n        const response = await fetch('config.json', {\n            cache: 'no-cache'\n        });\n\n        if (!response.ok) {\n            throw new Error('network response was not ok');\n        }\n\n        data = await response.json();\n\n        return data;\n    } catch (error) {\n        console.warn('failed to fetch the web config file:', error);\n        return getDefaultConfig();\n    }\n}\n\nasync function getDefaultConfig() {\n    try {\n        const response = await fetch('config.template.json', {\n            cache: 'no-cache'\n        });\n\n        if (!response.ok) {\n            throw new Error('network response was not ok');\n        }\n\n        data = await response.json();\n        return data;\n    } catch (error) {\n        console.error('failed to fetch the default web config file:', error);\n    }\n}\n\nexport function getMultiServer() {\n    return getConfig().then(config => {\n        return config.multiserver;\n    }).catch(error => {\n        console.log('cannot get web config:', error);\n        return false;\n    });\n}\n\nexport function getThemes() {\n    return getConfig().then(config => {\n        return config.themes;\n    }).catch(error => {\n        console.log('cannot get web config:', error);\n        return [];\n    });\n}\n\nexport function getPlugins() {\n    return getConfig().then(config => {\n        return config.plugins;\n    }).catch(error => {\n        console.log('cannot get web config:', error);\n        return [];\n    });\n}\n"]}