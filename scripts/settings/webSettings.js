define(["exports"],(function(_exports){"use strict";function asyncGeneratorStep(gen,resolve,reject,_next,_throw,key,arg){try{var info=gen[key](arg),value=info.value}catch(error){return void reject(error)}info.done?resolve(value):Promise.resolve(value).then(_next,_throw)}function _asyncToGenerator(fn){return function(){var self=this,args=arguments;return new Promise((function(resolve,reject){var gen=fn.apply(self,args);function _next(value){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"next",value)}function _throw(err){asyncGeneratorStep(gen,resolve,reject,_next,_throw,"throw",err)}_next(void 0)}))}}var data;function getConfig(){return _getConfig.apply(this,arguments)}function _getConfig(){return(_getConfig=_asyncToGenerator(regeneratorRuntime.mark((function _callee(){var response;return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(!data){_context.next=2;break}return _context.abrupt("return",Promise.resolve(data));case 2:return _context.prev=2,_context.next=5,fetch("config.json",{cache:"no-cache"});case 5:if((response=_context.sent).ok){_context.next=8;break}throw new Error("network response was not ok");case 8:return _context.next=10,response.json();case 10:return data=_context.sent,_context.abrupt("return",data);case 14:return _context.prev=14,_context.t0=_context.catch(2),console.warn("failed to fetch the web config file:",_context.t0),_context.abrupt("return",getDefaultConfig());case 18:case"end":return _context.stop()}}),_callee,null,[[2,14]])})))).apply(this,arguments)}function getDefaultConfig(){return _getDefaultConfig.apply(this,arguments)}function _getDefaultConfig(){return(_getDefaultConfig=_asyncToGenerator(regeneratorRuntime.mark((function _callee2(){var response;return regeneratorRuntime.wrap((function _callee2$(_context2){for(;;)switch(_context2.prev=_context2.next){case 0:return _context2.prev=0,_context2.next=3,fetch("config.template.json",{cache:"no-cache"});case 3:if((response=_context2.sent).ok){_context2.next=6;break}throw new Error("network response was not ok");case 6:return _context2.next=8,response.json();case 8:return data=_context2.sent,_context2.abrupt("return",data);case 12:_context2.prev=12,_context2.t0=_context2.catch(0),console.error("failed to fetch the default web config file:",_context2.t0);case 15:case"end":return _context2.stop()}}),_callee2,null,[[0,12]])})))).apply(this,arguments)}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.getMultiServer=function getMultiServer(){return getConfig().then((function(config){return config.multiserver})).catch((function(error){return console.log("cannot get web config:",error),!1}))},_exports.getThemes=function getThemes(){return getConfig().then((function(config){return config.themes})).catch((function(error){return console.log("cannot get web config:",error),[]}))},_exports.getPlugins=function getPlugins(){return getConfig().then((function(config){return config.plugins})).catch((function(error){return console.log("cannot get web config:",error),[]}))}}));
//# sourceMappingURL=webSettings.js.map
