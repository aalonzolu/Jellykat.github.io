{"version":3,"sources":["scripts/site.js"],"names":["window","getWindowLocationSearch","win","search","location","index","href","indexOf","substring","getParameterByName","name","url","replace","results","RegExp","exec","decodeURIComponent","pageClassOn","eventName","className","fn","document","addEventListener","event","target","classList","contains","call","pageIdOn","id","AppInfo","initClient","createConnectionManager","require","ConnectionManager","appHost","credentialProvider","events","userSettings","default","credentialProviderInstance","promises","init","Promise","all","then","responses","capabilities","Dashboard","connectionManager","appName","appVersion","deviceName","deviceId","defineConnectionManager","define","bindConnectionManagerEvents","Events","currentApiClient","localApiClient","server","getLastUsedServer","getApiClient","Id","onLocalUserSignedIn","user","ServerId","ApiClient","setUserInfo","on","isNativeApp","resolve","console","debug","apiClientFactory","clientUtils","apiClient","serverAddress","enableAutomaticNetworking","manualAddressOnly","addApiClient","returnFirstDependency","obj","returnDefault","Error","getPlaybackManager","playbackManager","onAppClose","err","error","getLayoutManager","layoutManager","getDefaultLayout","defaultLayout","createSharedAppFooter","_ref","appFooter","onRequireJsError","requireType","requireModules","join","fetch","push","globalize","browser","Globalize","loadCoreDictionary","translations","map","language","lang","path","defaultModule","loadStrings","onGlobalizeInit","appMode","toString","toLowerCase","onAppReady","title","translateHtml","tv","android","loadPlugins","shell","groupCollapsed","reject","webSettings","getPlugins","list","supports","splice","chrome","opera","NativeShell","concat","loadPlugin","catch","finally","groupEnd","packageManager","keyboardnavigation","enable","autoFocuser","updateCurrentCulture","pluginManager","appRouter","Emby","iOS","Page","start","click","hashbang","xboxOne","ps4","touch","navigator","mediaSession","registerServiceWorker","serviceWorker","register","warn","Notification","getUrl","response","ok","status","statusText","text","css","style","querySelector","createElement","body","appendChild","textContent","promise","initRequireJs","urlArgs","dashboardVersion","Date","getDate","paths","browserdeviceprofile","libraryBrowser","inputManager","datetime","dfnshelper","libraryMenu","playlisteditor","componentsPath","medialibrarycreator","medialibraryeditor","imageoptionseditor","apphost","visibleinviewport","bowerPath","qualityoptions","focusManager","itemHelper","itemShortcuts","playQueueManager","nowPlayingHelper","screensaverManager","scriptsPath","requirejs","onError","config","waitSeconds","*","bundles","bundle","jQuery","$","elementsPath","viewManager","ViewManager","dispatchPageEvents","onWebComponentsReady","defineResizeObserver","ResizeObserver","add","remove"],"mappings":"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","file":"site.js","sourcesContent":["window.getWindowLocationSearch = function(win) {\n    'use strict';\n\n    var search = (win || window).location.search;\n\n    if (!search) {\n        var index = window.location.href.indexOf('?');\n\n        if (index != -1) {\n            search = window.location.href.substring(index);\n        }\n    }\n\n    return search || '';\n};\n\nwindow.getParameterByName = function(name, url) {\n    'use strict';\n\n    name = name.replace(/[\\[]/, '\\\\[').replace(/[\\]]/, '\\\\]');\n    var regexS = '[\\\\?&]' + name + '=([^&#]*)';\n    var regex = new RegExp(regexS, 'i');\n    var results = regex.exec(url || getWindowLocationSearch());\n\n    if (results == null) {\n        return '';\n    }\n\n    return decodeURIComponent(results[1].replace(/\\+/g, ' '));\n};\n\nwindow.pageClassOn = function(eventName, className, fn) {\n    'use strict';\n\n    document.addEventListener(eventName, function (event) {\n        var target = event.target;\n\n        if (target.classList.contains(className)) {\n            fn.call(target, event);\n        }\n    });\n};\n\nwindow.pageIdOn = function(eventName, id, fn) {\n    'use strict';\n\n    document.addEventListener(eventName, function (event) {\n        var target = event.target;\n\n        if (target.id === id) {\n            fn.call(target, event);\n        }\n    });\n};\n\nvar AppInfo = {};\n\nfunction initClient() {\n    function defineConnectionManager(connectionManager) {\n        window.ConnectionManager = connectionManager;\n        define('connectionManager', [], function () {\n            return connectionManager;\n        });\n    }\n\n    function bindConnectionManagerEvents(connectionManager, events, userSettings) {\n        window.Events = events;\n\n        connectionManager.currentApiClient = function () {\n            if (!localApiClient) {\n                var server = connectionManager.getLastUsedServer();\n\n                if (server) {\n                    localApiClient = connectionManager.getApiClient(server.Id);\n                }\n            }\n\n            return localApiClient;\n        };\n\n        connectionManager.onLocalUserSignedIn = function (user) {\n            localApiClient = connectionManager.getApiClient(user.ServerId);\n            window.ApiClient = localApiClient;\n            return userSettings.setUserInfo(user.Id, localApiClient);\n        };\n\n        events.on(connectionManager, 'localusersignedout', function () {\n            userSettings.setUserInfo(null, null);\n        });\n    }\n\n    function createConnectionManager() {\n        return require(['connectionManagerFactory', 'apphost', 'credentialprovider', 'events', 'userSettings'], function (ConnectionManager, appHost, credentialProvider, events, userSettings) {\n            appHost = appHost.default || appHost;\n\n            var credentialProviderInstance = new credentialProvider();\n            var promises = [appHost.init()];\n\n            return Promise.all(promises).then(function (responses) {\n                var capabilities = Dashboard.capabilities(appHost);\n\n                var connectionManager = new ConnectionManager(credentialProviderInstance, appHost.appName(), appHost.appVersion(), appHost.deviceName(), appHost.deviceId(), capabilities);\n\n                defineConnectionManager(connectionManager);\n                bindConnectionManagerEvents(connectionManager, events, userSettings);\n\n                if (!AppInfo.isNativeApp) {\n                    console.debug('loading ApiClient singleton');\n\n                    return require(['apiclient', 'clientUtils'], function (apiClientFactory, clientUtils) {\n                        console.debug('creating ApiClient singleton');\n\n                        var apiClient = new apiClientFactory(Dashboard.serverAddress(), appHost.appName(), appHost.appVersion(), appHost.deviceName(), appHost.deviceId());\n\n                        apiClient.enableAutomaticNetworking = false;\n                        apiClient.manualAddressOnly = true;\n\n                        connectionManager.addApiClient(apiClient);\n\n                        window.ApiClient = apiClient;\n                        localApiClient = apiClient;\n\n                        console.debug('loaded ApiClient singleton');\n                    });\n                }\n\n                return Promise.resolve();\n            });\n        });\n    }\n\n    function returnFirstDependency(obj) {\n        return obj;\n    }\n\n    function returnDefault(obj) {\n        if (obj.default === null) {\n            throw new Error('Object has no default!');\n        }\n        return obj.default;\n    }\n\n    function getBowerPath() {\n        return 'libraries';\n    }\n\n    function getComponentsPath() {\n        return 'components';\n    }\n\n    function getElementsPath() {\n        return 'elements';\n    }\n\n    function getScriptsPath() {\n        return 'scripts';\n    }\n\n    function getPlaybackManager(playbackManager) {\n        window.addEventListener('beforeunload', function () {\n            try {\n                playbackManager.default.onAppClose();\n            } catch (err) {\n                console.error('error in onAppClose: ' + err);\n            }\n        });\n        return playbackManager;\n    }\n\n    function getLayoutManager(layoutManager, appHost) {\n        layoutManager = layoutManager.default || layoutManager;\n        appHost = appHost.default || appHost;\n        if (appHost.getDefaultLayout) {\n            layoutManager.defaultLayout = appHost.getDefaultLayout();\n        }\n\n        layoutManager.init();\n        return layoutManager;\n    }\n\n    function createSharedAppFooter({default: appFooter}) {\n        return new appFooter({});\n    }\n\n    function onRequireJsError(requireType, requireModules) {\n        console.error('RequireJS error: ' + (requireType || 'unknown') + '. Failed modules: ' + (requireModules || []).join(','));\n    }\n\n    function defineResizeObserver() {\n        if (window.ResizeObserver) {\n            define('ResizeObserver', [], function () {\n                return window.ResizeObserver;\n            });\n        } else {\n            define('ResizeObserver', ['resize-observer-polyfill'], returnFirstDependency);\n        }\n    }\n\n    function init() {\n        define('livetvcss', ['css!assets/css/livetv.css'], returnFirstDependency);\n        define('detailtablecss', ['css!assets/css/detailtable.css'], returnFirstDependency);\n\n        require(['clientUtils']);\n\n        var promises = [];\n        if (!window.fetch) {\n            promises.push(require(['fetch']));\n        }\n\n        Promise.all(promises).then(function () {\n            createConnectionManager().then(function () {\n                console.debug('initAfterDependencies promises resolved');\n\n                require(['globalize', 'browser'], function (globalize, browser) {\n                    window.Globalize = globalize;\n                    loadCoreDictionary(globalize).then(function () {\n                        onGlobalizeInit(browser, globalize);\n                    });\n                });\n                require(['keyboardnavigation'], function(keyboardnavigation) {\n                    keyboardnavigation.enable();\n                });\n                require(['mouseManager']);\n                require(['focusPreventScroll']);\n                require(['vendorStyles']);\n                require(['autoFocuser'], function(autoFocuser) {\n                    autoFocuser.enable();\n                });\n                require(['globalize', 'connectionManager', 'events'], function (globalize, connectionManager, events) {\n                    events.on(connectionManager, 'localusersignedin', globalize.updateCurrentCulture);\n                });\n            });\n        });\n    }\n\n    function loadCoreDictionary(globalize) {\n        var languages = ['ar', 'be-by', 'bg-bg', 'ca', 'cs', 'da', 'de', 'el', 'en-gb', 'en-us', 'es', 'es-ar', 'es-mx', 'fa', 'fi', 'fr', 'fr-ca', 'gsw', 'he', 'hi-in', 'hr', 'hu', 'id', 'it', 'kk', 'ko', 'lt-lt', 'ms', 'nb', 'nl', 'pl', 'pt-br', 'pt-pt', 'ro', 'ru', 'sk', 'sl-si', 'sv', 'tr', 'uk', 'vi', 'zh-cn', 'zh-hk', 'zh-tw'];\n        var translations = languages.map(function (language) {\n            return {\n                lang: language,\n                path: 'strings/' + language + '.json'\n            };\n        });\n        globalize.defaultModule('core');\n        return globalize.loadStrings({\n            name: 'core',\n            translations: translations\n        });\n    }\n\n    function onGlobalizeInit(browser, globalize) {\n        if (window.appMode === 'android') {\n            if (window.location.href.toString().toLowerCase().indexOf('start=backgroundsync') !== -1) {\n                return onAppReady(browser);\n            }\n        }\n\n        document.title = globalize.translateHtml(document.title, 'core');\n\n        if (browser.tv && !browser.android) {\n            console.debug('using system fonts with explicit sizes');\n            require(['systemFontsSizedCss']);\n        } else {\n            console.debug('using default fonts');\n            require(['systemFontsCss']);\n        }\n\n        require(['apphost', 'css!assets/css/librarybrowser'], function (appHost) {\n            appHost = appHost.default || appHost;\n\n            loadPlugins(appHost, browser).then(function () {\n                onAppReady(browser);\n            });\n        });\n    }\n\n    function loadPlugins(appHost, browser, shell) {\n        console.groupCollapsed('loading installed plugins');\n        return new Promise(function (resolve, reject) {\n            require(['webSettings'], function (webSettings) {\n                webSettings.getPlugins().then(function (list) {\n                    // these two plugins are dependent on features\n                    if (!appHost.supports('remotecontrol')) {\n                        list.splice(list.indexOf('sessionPlayer'), 1);\n\n                        if (!browser.chrome && !browser.opera) {\n                            list.splice(list.indexOf('chromecastPlayer', 1));\n                        }\n                    }\n\n                    // add any native plugins\n                    if (window.NativeShell) {\n                        list = list.concat(window.NativeShell.getPlugins());\n                    }\n\n                    Promise.all(list.map(loadPlugin))\n                        .then(function () {\n                            console.debug('finished loading plugins');\n                        })\n                        .catch(() => reject)\n                        .finally(() => {\n                            console.groupEnd('loading installed plugins');\n                            require(['packageManager'], function (packageManager) {\n                                packageManager.default.init().then(resolve, reject);\n                            });\n                        })\n                    ;\n                });\n            });\n        });\n    }\n\n    function loadPlugin(url) {\n        return new Promise(function (resolve, reject) {\n            require(['pluginManager'], function (pluginManager) {\n                pluginManager.default.loadPlugin(url).then(resolve, reject);\n            });\n        });\n    }\n\n    function onAppReady(browser) {\n        console.debug('begin onAppReady');\n\n        // ensure that appHost is loaded in this point\n        require(['apphost', 'appRouter'], function (appHost, appRouter) {\n            appRouter = appRouter.default || appRouter;\n            appHost = appHost.default || appHost;\n\n            window.Emby = {};\n\n            console.debug('onAppReady: loading dependencies');\n            if (browser.iOS) {\n                require(['css!assets/css/ios.css']);\n            }\n\n            window.Emby.Page = appRouter;\n\n            require(['emby-button', 'scripts/autoThemes', 'libraryMenu', 'scripts/routes'], function () {\n                Emby.Page.start({\n                    click: false,\n                    hashbang: true\n                });\n\n                require(['components/themeMediaPlayer', 'scripts/autoBackdrops']);\n\n                if (!browser.tv && !browser.xboxOne && !browser.ps4) {\n                    require(['components/nowPlayingBar/nowPlayingBar']);\n                }\n\n                if (appHost.supports('remotecontrol')) {\n                    require(['playerSelectionMenu', 'components/playback/remotecontrolautoplay']);\n                }\n\n                require(['libraries/screensavermanager']);\n\n                if (!appHost.supports('physicalvolumecontrol') || browser.touch) {\n                    require(['components/playback/volumeosd']);\n                }\n\n                /* eslint-disable-next-line compat/compat */\n                if (navigator.mediaSession || window.NativeShell) {\n                    require(['mediaSession']);\n                }\n                require(['serverNotifications']);\n                require(['date-fns', 'date-fns/locale']);\n\n                if (!browser.tv && !browser.xboxOne) {\n                    require(['components/playback/playbackorientation']);\n                    registerServiceWorker();\n\n                    if (window.Notification) {\n                        require(['components/notifications/notifications']);\n                    }\n                }\n\n                require(['playerSelectionMenu']);\n\n                var apiClient = window.ConnectionManager && window.ConnectionManager.currentApiClient();\n                if (apiClient) {\n                    fetch(apiClient.getUrl('Branding/Css'))\n                        .then(function(response) {\n                            if (!response.ok) {\n                                throw new Error(response.status + ' ' + response.statusText);\n                            }\n                            return response.text();\n                        })\n                        .then(function(css) {\n                            let style = document.querySelector('#cssBranding');\n                            if (!style) {\n                                // Inject the branding css as a dom element in body so it will take\n                                // precedence over other stylesheets\n                                style = document.createElement('style');\n                                style.id = 'cssBranding';\n                                document.body.appendChild(style);\n                            }\n                            style.textContent = css;\n                        })\n                        .catch(function(err) {\n                            console.warn('Error applying custom css', err);\n                        });\n                }\n            });\n        });\n    }\n\n    function registerServiceWorker() {\n        /* eslint-disable compat/compat */\n        if (navigator.serviceWorker && window.appMode !== 'cordova' && window.appMode !== 'android') {\n            try {\n                navigator.serviceWorker.register('serviceworker.js');\n            } catch (err) {\n                console.error('error registering serviceWorker: ' + err);\n            }\n        } else {\n            console.warn('serviceWorker unsupported');\n        }\n        /* eslint-enable compat/compat */\n    }\n\n    function onWebComponentsReady() {\n        var componentsPath = getComponentsPath();\n        var scriptsPath = getScriptsPath();\n\n        define('filesystem', [scriptsPath + '/filesystem'], returnFirstDependency);\n\n        define('lazyLoader', [componentsPath + '/lazyLoader/lazyLoaderIntersectionObserver'], returnFirstDependency);\n        define('shell', [scriptsPath + '/shell'], returnFirstDependency);\n\n        define('alert', [componentsPath + '/alert'], returnFirstDependency);\n\n        defineResizeObserver();\n\n        define('dialog', [componentsPath + '/dialog/dialog'], returnFirstDependency);\n\n        define('confirm', [componentsPath + '/confirm/confirm'], returnFirstDependency);\n\n        define('prompt', [componentsPath + '/prompt/prompt'], returnFirstDependency);\n\n        define('loading', [componentsPath + '/loading/loading'], returnFirstDependency);\n        define('multi-download', [scriptsPath + '/multiDownload'], returnFirstDependency);\n        define('fileDownloader', [scriptsPath + '/fileDownloader'], returnFirstDependency);\n\n        define('castSenderApiLoader', [componentsPath + '/castSenderApi'], returnFirstDependency);\n\n        if (window.appMode === 'cordova' || window.appMode === 'android' || window.appMode === 'standalone') {\n            AppInfo.isNativeApp = true;\n        }\n\n        init();\n    }\n\n    var promise;\n    var localApiClient;\n\n    function initRequireJs() {\n        var urlArgs = 'v=' + (window.dashboardVersion || new Date().getDate());\n\n        var bowerPath = getBowerPath();\n        var componentsPath = getComponentsPath();\n        var elementsPath = getElementsPath();\n        var scriptsPath = getScriptsPath();\n\n        var paths = {\n            browserdeviceprofile: 'scripts/browserDeviceProfile',\n            browser: 'scripts/browser',\n            libraryBrowser: 'scripts/libraryBrowser',\n            inputManager: 'scripts/inputManager',\n            datetime: 'scripts/datetime',\n            globalize: 'scripts/globalize',\n            dfnshelper: 'scripts/dfnshelper',\n            libraryMenu: 'scripts/libraryMenu',\n            playlisteditor: componentsPath + '/playlisteditor/playlisteditor',\n            medialibrarycreator: componentsPath + '/mediaLibraryCreator/mediaLibraryCreator',\n            medialibraryeditor: componentsPath + '/mediaLibraryEditor/mediaLibraryEditor',\n            imageoptionseditor: componentsPath + '/imageOptionsEditor/imageOptionsEditor',\n            apphost: componentsPath + '/apphost',\n            visibleinviewport: bowerPath + '/visibleinviewport',\n            qualityoptions: componentsPath + '/qualityOptions',\n            focusManager: componentsPath + '/focusManager',\n            itemHelper: componentsPath + '/itemHelper',\n            itemShortcuts: componentsPath + '/shortcuts',\n            playQueueManager: componentsPath + '/playback/playqueuemanager',\n            nowPlayingHelper: componentsPath + '/playback/nowplayinghelper',\n            pluginManager: componentsPath + '/pluginManager',\n            packageManager: componentsPath + '/packageManager',\n            screensaverManager: componentsPath + '/screensavermanager',\n            clientUtils: scriptsPath + '/clientUtils',\n            appRouter: 'components/appRouter'\n        };\n\n        requirejs.onError = onRequireJsError;\n        requirejs.config({\n            waitSeconds: 0,\n            map: {\n                '*': {\n                    css: 'components/require/requirecss',\n                    text: 'components/require/requiretext'\n                }\n            },\n            bundles: {\n                bundle: [\n                    'fetch',\n                    'flvjs',\n                    'jstree',\n                    'epubjs',\n                    'jQuery',\n                    'hlsjs',\n                    'howler',\n                    'native-promise-only',\n                    'resize-observer-polyfill',\n                    'swiper',\n                    'queryString',\n                    'sortable',\n                    'webcomponents',\n                    'material-icons',\n                    'jellyfin-noto',\n                    'date-fns',\n                    'page',\n                    'polyfill',\n                    'fast-text-encoding',\n                    'intersection-observer',\n                    'classlist-polyfill',\n                    'screenfull',\n                    'headroom',\n                    'apiclient',\n                    'events',\n                    'credentialprovider',\n                    'connectionManagerFactory',\n                    'appStorage'\n                ]\n            },\n            urlArgs: urlArgs,\n            paths: paths,\n            onError: onRequireJsError\n        });\n\n        promise = require(['fetch'])\n            .then(() => require(['jQuery', 'polyfill', 'fast-text-encoding', 'intersection-observer', 'classlist-polyfill', 'css!assets/css/site', 'jellyfin-noto'], (jQuery) => {\n                // Expose jQuery globally\n                window.$ = jQuery;\n                window.jQuery = jQuery;\n            }));\n\n        // define styles\n        // TODO determine which of these files can be moved to the components themselves\n        define('systemFontsCss', ['css!assets/css/fonts'], returnFirstDependency);\n        define('systemFontsSizedCss', ['css!assets/css/fonts.sized'], returnFirstDependency);\n        define('scrollStyles', ['css!assets/css/scrollstyles'], returnFirstDependency);\n        define('dashboardcss', ['css!assets/css/dashboard'], returnFirstDependency);\n        define('programStyles', ['css!' + componentsPath + '/guide/programs'], returnFirstDependency);\n        define('listViewStyle', ['css!' + componentsPath + '/listview/listview'], returnFirstDependency);\n        define('formDialogStyle', ['css!' + componentsPath + '/formdialog'], returnFirstDependency);\n        define('clearButtonStyle', ['css!assets/css/clearbutton'], returnFirstDependency);\n        define('cardStyle', ['css!' + componentsPath + '/cardbuilder/card'], returnFirstDependency);\n        define('flexStyles', ['css!assets/css/flexstyles'], returnFirstDependency);\n\n        // there are several objects that need to be instantiated\n        // TODO find a better way to do this\n        define('appFooter', [componentsPath + '/appFooter/appFooter'], returnFirstDependency);\n        define('appFooter-shared', ['appFooter'], createSharedAppFooter);\n\n        // TODO remove these libraries\n        // all of these have been modified so we need to fix that first\n        define('scroller', [bowerPath + '/scroller'], returnFirstDependency);\n        define('navdrawer', [bowerPath + '/navdrawer/navdrawer'], returnFirstDependency);\n\n        define('emby-button', [elementsPath + '/emby-button/emby-button'], returnFirstDependency);\n        define('paper-icon-button-light', [elementsPath + '/emby-button/paper-icon-button-light'], returnFirstDependency);\n        define('emby-checkbox', [elementsPath + '/emby-checkbox/emby-checkbox'], returnFirstDependency);\n        define('emby-collapse', [elementsPath + '/emby-collapse/emby-collapse'], returnFirstDependency);\n        define('emby-input', [elementsPath + '/emby-input/emby-input'], returnFirstDependency);\n        define('emby-progressring', [elementsPath + '/emby-progressring/emby-progressring'], returnFirstDependency);\n        define('emby-radio', [elementsPath + '/emby-radio/emby-radio'], returnFirstDependency);\n        define('emby-select', [elementsPath + '/emby-select/emby-select'], returnFirstDependency);\n        define('emby-slider', [elementsPath + '/emby-slider/emby-slider'], returnFirstDependency);\n        define('emby-textarea', [elementsPath + '/emby-textarea/emby-textarea'], returnFirstDependency);\n        define('emby-toggle', [elementsPath + '/emby-toggle/emby-toggle'], returnFirstDependency);\n        define('emby-scroller', [elementsPath + '/emby-scroller/emby-scroller'], returnFirstDependency);\n        define('emby-tabs', [elementsPath + '/emby-tabs/emby-tabs'], returnFirstDependency);\n        define('emby-scrollbuttons', [elementsPath + '/emby-scrollbuttons/emby-scrollbuttons'], returnFirstDependency);\n        define('emby-itemrefreshindicator', [elementsPath + '/emby-itemrefreshindicator/emby-itemrefreshindicator'], returnFirstDependency);\n        define('emby-itemscontainer', [elementsPath + '/emby-itemscontainer/emby-itemscontainer'], returnFirstDependency);\n        define('emby-playstatebutton', [elementsPath + '/emby-playstatebutton/emby-playstatebutton'], returnFirstDependency);\n        define('emby-ratingbutton', [elementsPath + '/emby-ratingbutton/emby-ratingbutton'], returnFirstDependency);\n        define('emby-progressbar', [elementsPath + '/emby-progressbar/emby-progressbar'], returnFirstDependency);\n        define('emby-programcell', [elementsPath + '/emby-programcell/emby-programcell'], returnFirstDependency);\n\n        define('webSettings', [scriptsPath + '/settings/webSettings'], returnFirstDependency);\n        define('appSettings', [scriptsPath + '/settings/appSettings'], returnFirstDependency);\n        define('userSettings', [scriptsPath + '/settings/userSettings'], returnFirstDependency);\n\n        define('mediaSession', [componentsPath + '/playback/mediasession'], returnFirstDependency);\n        define('actionsheet', [componentsPath + '/actionSheet/actionSheet'], returnFirstDependency);\n        define('tunerPicker', [componentsPath + '/tunerPicker'], returnFirstDependency);\n        define('mainTabsManager', [componentsPath + '/maintabsmanager'], returnFirstDependency);\n        define('imageLoader', [componentsPath + '/images/imageLoader'], returnFirstDependency);\n        define('directorybrowser', [componentsPath + '/directorybrowser/directorybrowser'], returnFirstDependency);\n        define('metadataEditor', [componentsPath + '/metadataEditor/metadataEditor'], returnFirstDependency);\n        define('personEditor', [componentsPath + '/metadataEditor/personEditor'], returnFirstDependency);\n        define('playerSelectionMenu', [componentsPath + '/playback/playerSelectionMenu'], returnFirstDependency);\n        define('playerSettingsMenu', [componentsPath + '/playback/playersettingsmenu'], returnFirstDependency);\n        define('playMethodHelper', [componentsPath + '/playback/playmethodhelper'], returnFirstDependency);\n        define('brightnessOsd', [componentsPath + '/playback/brightnessosd'], returnFirstDependency);\n        define('alphaNumericShortcuts', [scriptsPath + '/alphanumericshortcuts'], returnFirstDependency);\n        define('multiSelect', [componentsPath + '/multiSelect/multiSelect'], returnFirstDependency);\n        define('alphaPicker', [componentsPath + '/alphaPicker/alphaPicker'], returnFirstDependency);\n        define('tabbedView', [componentsPath + '/tabbedview/tabbedview'], returnFirstDependency);\n        define('collectionEditor', [componentsPath + '/collectionEditor/collectionEditor'], returnFirstDependency);\n        define('playlistEditor', [componentsPath + '/playlisteditor/playlisteditor'], returnFirstDependency);\n        define('recordingCreator', [componentsPath + '/recordingcreator/recordingcreator'], returnFirstDependency);\n        define('recordingEditor', [componentsPath + '/recordingcreator/recordingeditor'], returnFirstDependency);\n        define('seriesRecordingEditor', [componentsPath + '/recordingcreator/seriesrecordingeditor'], returnFirstDependency);\n        define('recordingFields', [componentsPath + '/recordingcreator/recordingfields'], returnFirstDependency);\n        define('recordingButton', [componentsPath + '/recordingcreator/recordingbutton'], returnFirstDependency);\n        define('recordingHelper', [componentsPath + '/recordingcreator/recordinghelper'], returnFirstDependency);\n        define('subtitleEditor', [componentsPath + '/subtitleeditor/subtitleeditor'], returnFirstDependency);\n        define('subtitleSync', [componentsPath + '/subtitlesync/subtitlesync'], returnFirstDependency);\n        define('itemIdentifier', [componentsPath + '/itemidentifier/itemidentifier'], returnFirstDependency);\n        define('itemMediaInfo', [componentsPath + '/itemMediaInfo/itemMediaInfo'], returnFirstDependency);\n        define('mediaInfo', [componentsPath + '/mediainfo/mediainfo'], returnFirstDependency);\n        define('itemContextMenu', [componentsPath + '/itemContextMenu'], returnFirstDependency);\n        define('imageEditor', [componentsPath + '/imageeditor/imageeditor'], returnFirstDependency);\n        define('imageDownloader', [componentsPath + '/imageDownloader/imageDownloader'], returnFirstDependency);\n        define('dom', [scriptsPath + '/dom'], returnFirstDependency);\n        define('playerStats', [componentsPath + '/playerstats/playerstats'], returnFirstDependency);\n        define('searchFields', [componentsPath + '/search/searchfields'], returnFirstDependency);\n        define('searchResults', [componentsPath + '/search/searchresults'], returnFirstDependency);\n        define('upNextDialog', [componentsPath + '/upnextdialog/upnextdialog'], returnFirstDependency);\n        define('subtitleAppearanceHelper', [componentsPath + '/subtitlesettings/subtitleappearancehelper'], returnFirstDependency);\n        define('subtitleSettings', [componentsPath + '/subtitlesettings/subtitlesettings'], returnFirstDependency);\n        define('settingsHelper', [componentsPath + '/settingshelper'], returnFirstDependency);\n        define('displaySettings', [componentsPath + '/displaySettings/displaySettings'], returnFirstDependency);\n        define('playbackSettings', [componentsPath + '/playbackSettings/playbackSettings'], returnFirstDependency);\n        define('homescreenSettings', [componentsPath + '/homeScreenSettings/homeScreenSettings'], returnFirstDependency);\n        define('playbackManager', [componentsPath + '/playback/playbackmanager'], getPlaybackManager);\n        define('timeSyncManager', [componentsPath + '/syncPlay/timeSyncManager'], returnDefault);\n        define('groupSelectionMenu', [componentsPath + '/syncPlay/groupSelectionMenu'], returnFirstDependency);\n        define('syncPlayManager', [componentsPath + '/syncPlay/syncPlayManager'], returnDefault);\n        define('playbackPermissionManager', [componentsPath + '/syncPlay/playbackPermissionManager'], returnDefault);\n        define('layoutManager', [componentsPath + '/layoutManager', 'apphost'], getLayoutManager);\n        define('homeSections', [componentsPath + '/homesections/homesections'], returnFirstDependency);\n        define('playMenu', [componentsPath + '/playmenu'], returnFirstDependency);\n        define('refreshDialog', [componentsPath + '/refreshdialog/refreshdialog'], returnFirstDependency);\n        define('backdrop', [componentsPath + '/backdrop/backdrop'], returnFirstDependency);\n        define('fetchHelper', [componentsPath + '/fetchhelper'], returnFirstDependency);\n        define('cardBuilder', [componentsPath + '/cardbuilder/cardBuilder'], returnFirstDependency);\n        define('peoplecardbuilder', [componentsPath + '/cardbuilder/peoplecardbuilder'], returnFirstDependency);\n        define('chaptercardbuilder', [componentsPath + '/cardbuilder/chaptercardbuilder'], returnFirstDependency);\n        define('deleteHelper', [scriptsPath + '/deleteHelper'], returnFirstDependency);\n        define('tvguide', [componentsPath + '/guide/guide'], returnFirstDependency);\n        define('guide-settings-dialog', [componentsPath + '/guide/guide-settings'], returnFirstDependency);\n        define('viewManager', [componentsPath + '/viewManager/viewManager'], function (viewManager) {\n            window.ViewManager = viewManager.default;\n            viewManager.default.dispatchPageEvents(true);\n            return viewManager;\n        });\n        define('slideshow', [componentsPath + '/slideshow/slideshow'], returnFirstDependency);\n        define('focusPreventScroll', ['legacy/focusPreventScroll'], returnFirstDependency);\n        define('vendorStyles', ['legacy/vendorStyles'], returnFirstDependency);\n        define('userdataButtons', [componentsPath + '/userdatabuttons/userdatabuttons'], returnFirstDependency);\n        define('listView', [componentsPath + '/listview/listview'], returnFirstDependency);\n        define('indicators', [componentsPath + '/indicators/indicators'], returnFirstDependency);\n        define('viewSettings', [componentsPath + '/viewSettings/viewSettings'], returnFirstDependency);\n        define('filterMenu', [componentsPath + '/filtermenu/filtermenu'], returnFirstDependency);\n        define('sortMenu', [componentsPath + '/sortmenu/sortmenu'], returnFirstDependency);\n        define('sanitizefilename', [componentsPath + '/sanitizeFilename'], returnFirstDependency);\n        define('toast', [componentsPath + '/toast/toast'], returnFirstDependency);\n        define('scrollHelper', [scriptsPath + '/scrollHelper'], returnFirstDependency);\n        define('touchHelper', [scriptsPath + '/touchHelper'], returnFirstDependency);\n        define('imageUploader', [componentsPath + '/imageUploader/imageUploader'], returnFirstDependency);\n        define('htmlMediaHelper', [componentsPath + '/htmlMediaHelper'], returnFirstDependency);\n        define('viewContainer', [componentsPath + '/viewContainer'], returnFirstDependency);\n        define('dialogHelper', [componentsPath + '/dialogHelper/dialogHelper'], returnFirstDependency);\n        define('serverNotifications', [scriptsPath + '/serverNotifications'], returnFirstDependency);\n        define('skinManager', [scriptsPath + '/themeManager'], returnFirstDependency);\n        define('keyboardnavigation', [scriptsPath + '/keyboardNavigation'], returnFirstDependency);\n        define('mouseManager', [scriptsPath + '/mouseManager'], returnFirstDependency);\n        define('scrollManager', [componentsPath + '/scrollManager'], returnFirstDependency);\n        define('autoFocuser', [componentsPath + '/autoFocuser'], returnFirstDependency);\n        define('connectionManager', [], function () {\n            return ConnectionManager;\n        });\n        define('apiClientResolver', [], function () {\n            return function () {\n                return window.ApiClient;\n            };\n        });\n    }\n\n    initRequireJs();\n    promise.then(onWebComponentsReady);\n}\n\ninitClient();\n\npageClassOn('viewshow', 'standalonePage', function () {\n    document.querySelector('.skinHeader').classList.add('noHeaderRight');\n});\n\npageClassOn('viewhide', 'standalonePage', function () {\n    document.querySelector('.skinHeader').classList.remove('noHeaderRight');\n});\n"]}