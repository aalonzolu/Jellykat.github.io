{"version":3,"sources":["scripts/apploader.js"],"names":["window","appMode","injectScriptElement","src","onload","script","document","createElement","dashboardVersion","concat","setAttribute","head","appendChild","loadSite","Promise","resolve","ex","undefined"],"mappings":"AAAA,aAEIA,OAAOC,QAAU,aAGrB,WACI,SAASC,oBAAoBC,IAAKC,QAC9B,GAAKD,IAAL,CAIA,IAAME,OAASC,SAASC,cAAc,UAClCP,OAAOQ,mBACPL,KAAG,MAAAM,OAAUT,OAAOQ,mBAExBH,OAAOF,IAAMA,IACbE,OAAOK,aAAa,QAAS,IAEzBN,SACAC,OAAOD,OAASA,QAGpBE,SAASK,KAAKC,YAAYP,SAG9B,SAASQ,WACLX,oBACI,0BACA,WAEIA,oBAAoB,wBAKhC,IACIY,QAAQC,UACV,MAAOC,IAILhB,OAAOc,aAAUG,EACjBjB,OAAOc,aAAUG,EAGhBjB,OAAOc,QAORD,WALAX,oBACI,qBACAW,UA5CZ","file":"apploader.js","sourcesContent":["(function() {\n    'use strict';\n    window.appMode = 'standalone';\n})();\n\n(function() {\n    function injectScriptElement(src, onload) {\n        if (!src) {\n            return;\n        }\n\n        const script = document.createElement('script');\n        if (window.dashboardVersion) {\n            src += `?v=${window.dashboardVersion}`;\n        }\n        script.src = src;\n        script.setAttribute('async', '');\n\n        if (onload) {\n            script.onload = onload;\n        }\n\n        document.head.appendChild(script);\n    }\n\n    function loadSite() {\n        injectScriptElement(\n            './libraries/alameda.js',\n            function() {\n                // onload of require library\n                injectScriptElement('./scripts/site.js');\n            }\n        );\n    }\n\n    try {\n        Promise.resolve();\n    } catch (ex) {\n        // this checks for several cases actually, typical is\n        // Promise() being missing on some legacy browser, and a funky one\n        // is Promise() present but buggy on WebOS 2\n        window.Promise = undefined;\n        window.Promise = undefined;\n    }\n\n    if (!window.Promise) {\n        // Load Promise polyfill if they are not natively supported\n        injectScriptElement(\n            './libraries/npo.js',\n            loadSite\n        );\n    } else {\n        loadSite();\n    }\n})();\n"]}