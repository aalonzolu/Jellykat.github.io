{"version":3,"sources":["controllers/edititemmetadata.js"],"names":["define","_require","_exports","_loading","_editorsidebar","_typeof","obj","Symbol","iterator","constructor","prototype","_getRequireWildcardCache","WeakMap","cache","reload","context","itemId","loading","show","Promise","_resolve","_reject","imported","_interopRequireWildcard","__esModule","default","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","hasOwnProperty","call","desc","set","then","_ref","embed","querySelector","ApiClient","serverInfo","Id","innerHTML","hide","value","_default","view","params","addEventListener","this","MetadataEditor","getCurrentItemId","setCurrentItemId","event","data","detail","id","_interopRequireDefault"],"mappings":"AAAAA,OAAO,CAAC,UAAW,UAAW,UAAW,0BAA0B,SAAUC,SAAUC,SAAUC,SAAUC,gBACzG,aAUA,SAASC,QAAQC,KAAmV,OAAtOD,QAArD,mBAAXE,QAAoD,iBAApBA,OAAOC,SAAmC,SAASH,QAAQC,KAAO,cAAcA,KAA2B,SAASD,QAAQC,KAAO,OAAOA,KAAyB,mBAAXC,QAAyBD,IAAIG,cAAgBF,QAAUD,MAAQC,OAAOG,UAAY,gBAAkBJ,MAAyBA,KAEnX,SAASK,2BAA6B,GAAuB,mBAAZC,QAAwB,OAAO,KAAM,IAAIC,MAAQ,IAAID,QAA6F,OAAlFD,yBAA2B,SAASA,2BAA6B,OAAOE,OAAiBA,MAV5M,SAASC,OAAOC,QAASC,QACrBC,SAAAA,QAAQC,OAEJF,OACA,IAAAG,SAAA,SAAAC,SAAAC,SAAA,OAAApB,SAAA,CAAO,mBAAP,SAAAqB,UAAA,OAAAF,SAQN,SAASG,wBAAwBjB,KAAO,GAAIA,KAAOA,IAAIkB,WAAc,OAAOlB,IAAO,GAAY,OAARA,KAAiC,WAAjBD,QAAQC,MAAoC,mBAARA,IAAsB,MAAO,CAAEmB,QAASnB,KAAS,IAAIO,MAAQF,2BAA4B,GAAIE,OAASA,MAAMa,IAAIpB,KAAQ,OAAOO,MAAMc,IAAIrB,KAAQ,IAAIsB,OAAS,GAAQC,sBAAwBC,OAAOC,gBAAkBD,OAAOE,yBAA0B,IAAK,IAAIC,OAAO3B,IAAO,GAAIwB,OAAOpB,UAAUwB,eAAeC,KAAK7B,IAAK2B,KAAM,CAAE,IAAIG,KAAOP,sBAAwBC,OAAOE,yBAAyB1B,IAAK2B,KAAO,KAAUG,OAASA,KAAKT,KAAOS,KAAKC,KAAQP,OAAOC,eAAeH,OAAQK,IAAKG,MAAgBR,OAAOK,KAAO3B,IAAI2B,KAAyE,OAA7DL,OAAOH,QAAUnB,IAASO,OAASA,MAAMwB,IAAI/B,IAAKsB,QAAkBA,OAR1tBL,CAAAD,aAAAD,YAAyBiB,MAAK,SAAAC,MAAiCA,KAA9Bd,QACde,MAAMzB,QAAQ0B,cAAc,yBAA0BzB,OAAQ0B,UAAUC,aAAaC,QAGxG7B,QAAQ0B,cAAc,yBAAyBI,UAAY,GAC3D5B,SAAAA,QAAQ6B,QATdhB,OAAOC,eAAe7B,SAAU,aAAc,CAC5C6C,OAAO,IAET7C,SAASuB,QAUI,SAAAuB,SAAUC,KAAMC,QAC3BD,KAAKE,iBAAiB,YAAY,WAC9BrC,OAAOsC,KAAMC,eAAeC,uBAEhCD,eAAeE,iBAAiB,MAChCN,KAAKR,cAAc,gBAAgBU,iBAAiB,eAAe,SAAUK,OACzE,IAAIC,KAAOD,MAAME,OAEbD,KAAKE,IAAMN,eAAeC,qBAC1BD,eAAeE,iBAAiBE,KAAKE,IACrC7C,OAAOmC,KAAMQ,KAAKE,SA1B9BxD,SASE,SAASyD,uBAAuBtD,KAAO,OAAOA,KAAOA,IAAIkB,WAAalB,IAAM,CAAEmB,QAASnB,KATzFsD,CAAAzD","file":"edititemmetadata.js","sourcesContent":["import loading from 'loading';\nimport 'scripts/editorsidebar';\n\nfunction reload(context, itemId) {\n    loading.show();\n\n    if (itemId) {\n        import('metadataEditor').then(({ default: metadataEditor }) => {\n            metadataEditor.embed(context.querySelector('.editPageInnerContent'), itemId, ApiClient.serverInfo().Id);\n        });\n    } else {\n        context.querySelector('.editPageInnerContent').innerHTML = '';\n        loading.hide();\n    }\n}\n\nexport default function (view, params) {\n    view.addEventListener('viewshow', function () {\n        reload(this, MetadataEditor.getCurrentItemId());\n    });\n    MetadataEditor.setCurrentItemId(null);\n    view.querySelector('.libraryTree').addEventListener('itemclicked', function (event) {\n        var data = event.detail;\n\n        if (data.id != MetadataEditor.getCurrentItemId()) {\n            MetadataEditor.setCurrentItemId(data.id);\n            reload(view, data.id);\n        }\n    });\n}\n"]}