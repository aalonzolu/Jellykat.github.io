define(["exports","searchFields","searchResults","events"],(function(_exports,_searchFields,_searchResults,_events){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=function _default(view,params){function onSearch(e,value){self.searchResults.search(value)}var self=this;view.addEventListener("viewshow",(function(){self.searchFields||(self.searchFields=new _searchFields.default({element:view.querySelector(".searchFields")}),self.searchResults=new _searchResults.default({element:view.querySelector(".searchResults"),serverId:params.serverId||ApiClient.serverId(),parentId:params.parentId,collectionType:params.collectionType}),_events.default.on(self.searchFields,"search",onSearch))})),view.addEventListener("viewdestroy",(function(){self.searchFields&&(self.searchFields.destroy(),self.searchFields=null),self.searchResults&&(self.searchResults.destroy(),self.searchResults=null)}))},_searchFields=_interopRequireDefault(_searchFields),_searchResults=_interopRequireDefault(_searchResults),_events=_interopRequireDefault(_events)}));
//# sourceMappingURL=searchpage.js.map
