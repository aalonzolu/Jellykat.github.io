define(["exports","jQuery","loading","emby-button","emby-select"],(function(_exports,_jQuery,_loading,_embyButton,_embySelect){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function onSubmit(){return function save(page){_loading.default.show();var apiClient=ApiClient;apiClient.getJSON(apiClient.getUrl("Startup/Configuration")).then((function(config){config.UICulture=(0,_jQuery.default)("#selectLocalizationLanguage",page).val(),apiClient.ajax({type:"POST",data:JSON.stringify(config),url:apiClient.getUrl("Startup/Configuration")}).then((function(){Dashboard.navigate("wizarduser.html")}))}))}((0,_jQuery.default)(this).parents(".page")),!1}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=function _default(view,params){(0,_jQuery.default)(".wizardStartForm",view).on("submit",onSubmit),view.addEventListener("viewshow",(function(){document.querySelector(".skinHeader").classList.add("noHomeButtonHeader"),_loading.default.show();var page=this,apiClient=ApiClient,promise1=apiClient.getJSON(apiClient.getUrl("Startup/Configuration")),promise2=apiClient.getJSON(apiClient.getUrl("Localization/Options"));Promise.all([promise1,promise2]).then((function(responses){!function loadPage(page,config,languageOptions){(0,_jQuery.default)("#selectLocalizationLanguage",page).html(languageOptions.map((function(l){return'<option value="'+l.Value+'">'+l.Name+"</option>"}))).val(config.UICulture),_loading.default.hide()}(page,responses[0],responses[1])}))})),view.addEventListener("viewhide",(function(){document.querySelector(".skinHeader").classList.remove("noHomeButtonHeader")}))},_jQuery=_interopRequireDefault(_jQuery),_loading=_interopRequireDefault(_loading)}));
//# sourceMappingURL=index.js.map
