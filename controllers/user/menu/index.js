define(["require","exports","apphost","listViewStyle","emby-button"],(function(_require,_exports,_apphost,_listViewStyle,_embyButton){"use strict";function _typeof(obj){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(obj){return typeof obj}:function _typeof(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj})(obj)}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var cache=new WeakMap;return _getRequireWildcardCache=function _getRequireWildcardCache(){return cache},cache}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=function _default(view,params){view.querySelector(".btnLogout").addEventListener("click",(function(){Dashboard.logout()})),view.querySelector(".selectServer").addEventListener("click",(function(){Dashboard.selectServer()})),view.querySelector(".clientSettings").addEventListener("click",(function(){window.NativeShell.openClientSettings()})),view.addEventListener("viewshow",(function(){var userId=params.userId||Dashboard.getCurrentUserId(),page=this;page.querySelector(".lnkMyProfile").setAttribute("href","myprofile.html?userId="+userId),page.querySelector(".lnkDisplayPreferences").setAttribute("href","mypreferencesdisplay.html?userId="+userId),page.querySelector(".lnkHomePreferences").setAttribute("href","mypreferenceshome.html?userId="+userId),page.querySelector(".lnkPlaybackPreferences").setAttribute("href","mypreferencesplayback.html?userId="+userId),page.querySelector(".lnkSubtitlePreferences").setAttribute("href","mypreferencessubtitles.html?userId="+userId),window.NativeShell&&window.NativeShell.AppHost.supports("clientsettings")?page.querySelector(".clientSettings").classList.remove("hide"):page.querySelector(".clientSettings").classList.add("hide"),_apphost.default.supports("multiserver")?page.querySelector(".selectServer").classList.remove("hide"):page.querySelector(".selectServer").classList.add("hide"),params.userId&&params.userId!==Dashboard.getCurrentUserId&&(page.querySelector(".userSection").classList.add("hide"),page.querySelector(".adminSection").classList.add("hide")),ApiClient.getUser(userId).then((function(user){page.querySelector(".headerUsername").innerHTML=user.Name,user.Policy.IsAdministrator||page.querySelector(".adminSection").classList.add("hide")})),new Promise((function(_resolve,_reject){return _require(["autoFocuser"],(function(imported){return _resolve(function _interopRequireWildcard(obj){if(obj&&obj.__esModule)return obj;if(null===obj||"object"!==_typeof(obj)&&"function"!=typeof obj)return{default:obj};var cache=_getRequireWildcardCache();if(cache&&cache.has(obj))return cache.get(obj);var newObj={},hasPropertyDescriptor=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var key in obj)if(Object.prototype.hasOwnProperty.call(obj,key)){var desc=hasPropertyDescriptor?Object.getOwnPropertyDescriptor(obj,key):null;desc&&(desc.get||desc.set)?Object.defineProperty(newObj,key,desc):newObj[key]=obj[key]}newObj.default=obj,cache&&cache.set(obj,newObj);return newObj}(imported))}),_reject)})).then((function(_ref){_ref.default.autoFocus(view)}))}))},_apphost=function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}(_apphost)}));
//# sourceMappingURL=index.js.map
