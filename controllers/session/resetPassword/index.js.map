{"version":3,"sources":["controllers/session/resetPassword/index.js"],"names":["Object","defineProperty","exports","value","default","_default","_globalize","_interopRequireDefault","require","obj","__esModule","processForgotPasswordResult","result","Success","msg","globalize","translate","UsersReset","join","Dashboard","alert","message","title","callback","window","location","href","view","params","querySelector","addEventListener","onSubmit","e","ApiClient","ajax","type","url","getUrl","dataType","data","JSON","stringify","Pin","then","preventDefault"],"mappings":"AAAA,aAEAA,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,OAAO,IAETD,QAAQE,QAAUC,SALlB,IAAAC,WAAAC,uBAAAC,QAAA,cASA,SAASD,uBAAuBE,KAAO,OAAOA,KAAOA,IAAIC,WAAaD,IAAM,CAAEL,QAASK,KALnF,SAASE,4BAA4BC,QACjC,GAAIA,OAAOC,QAAS,CAChB,IAAIC,IAAMC,WAAAA,QAAUC,UAAU,gCAI9B,OAHAF,KAAO,QACPA,KAAO,QACPA,KAAOF,OAAOK,WAAWC,KAAK,cAClBC,UAAUC,MAAM,CACxBC,QAASP,IACTQ,MAAOP,WAAAA,QAAUC,UAAU,uBAC3BO,SAAU,SAAAA,WACNC,OAAOC,SAASC,KAAO,gBAKnCP,UAAUC,MAAM,CACZC,QAASN,WAAAA,QAAUC,UAAU,mCAC7BM,MAAOP,WAAAA,QAAUC,UAAU,yBAIpB,SAAAX,SAAUsB,KAAMC,QAc3BD,KAAKE,cAAc,QAAQC,iBAAiB,UAb5C,SAASC,SAASC,GAUd,OATAC,UAAUC,KAAK,CACXC,KAAM,OACNC,IAAKH,UAAUI,OAAO,4BACtBC,SAAU,OACVC,KAAMC,KAAKC,UAAU,CACjBC,IAAKf,KAAKE,cAAc,WAAW1B,UAExCwC,KAAKhC,6BACRqB,EAAEY,kBACK","file":"index.js","sourcesContent":["import globalize from 'globalize';\n\n/* eslint-disable indent */\n\n    function processForgotPasswordResult(result) {\n        if (result.Success) {\n            let msg = globalize.translate('MessagePasswordResetForUsers');\n            msg += '<br/>';\n            msg += '<br/>';\n            msg += result.UsersReset.join('<br/>');\n            return void Dashboard.alert({\n                message: msg,\n                title: globalize.translate('HeaderPasswordReset'),\n                callback: function () {\n                    window.location.href = 'index.html';\n                }\n            });\n        }\n\n        Dashboard.alert({\n            message: globalize.translate('MessageInvalidForgotPasswordPin'),\n            title: globalize.translate('HeaderPasswordReset')\n        });\n    }\n\n    export default function (view, params) {\n        function onSubmit(e) {\n            ApiClient.ajax({\n                type: 'POST',\n                url: ApiClient.getUrl('Users/ForgotPassword/Pin'),\n                dataType: 'json',\n                data: JSON.stringify({\n                    Pin: view.querySelector('#txtPin').value\n                })\n            }).then(processForgotPasswordResult);\n            e.preventDefault();\n            return false;\n        }\n\n        view.querySelector('form').addEventListener('submit', onSubmit);\n    }\n\n/* eslint-enable indent */\n"]}