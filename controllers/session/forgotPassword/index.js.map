{"version":3,"sources":["controllers/session/forgotPassword/index.js"],"names":["define","_exports","_globalize","processForgotPasswordResult","result","Action","msg","globalize","translate","PinFile","Dashboard","alert","message","title","callback","navigate","Object","defineProperty","value","default","_default","view","params","querySelector","addEventListener","onSubmit","e","ApiClient","ajax","type","url","getUrl","dataType","data","JSON","stringify","EnteredUsername","then","preventDefault","_interopRequireDefault","obj","__esModule"],"mappings":"AAAAA,OAAO,CAAC,UAAW,cAAc,SAAUC,SAAUC,YACnD,aAGE,SAASC,4BAA4BC,QACjC,GAAqB,gBAAjBA,OAAOC,OAOX,GAAqB,qBAAjBD,OAAOC,QAOX,GAAqB,WAAjBD,OAAOC,OAAqB,CAC5B,IAAIC,IAAMC,WAAAA,QAAUC,UAAU,oCAO9B,OANAF,KAAO,QACPA,KAAO,QACPA,KAAO,+CACPA,KAAO,QACPA,KAAOF,OAAOK,QACdH,KAAO,aACKI,UAAUC,MAAM,CACxBC,QAASN,IACTO,MAAON,WAAAA,QAAUC,UAAU,wBAC3BM,SAAU,SAAAA,WACNJ,UAAUK,SAAS,mCAlBfL,UAAUC,MAAM,CACxBC,QAASL,WAAAA,QAAUC,UAAU,0CAC7BK,MAAON,WAAAA,QAAUC,UAAU,+BATnBE,UAAUC,MAAM,CACxBC,QAASL,WAAAA,QAAUC,UAAU,sCAC7BK,MAAON,WAAAA,QAAUC,UAAU,0BALzCQ,OAAOC,eAAehB,SAAU,aAAc,CAC5CiB,OAAO,IAETjB,SAASkB,QA+BQ,SAAAC,SAAUC,KAAMC,QAc3BD,KAAKE,cAAc,QAAQC,iBAAiB,UAb5C,SAASC,SAASC,GAUd,OATAC,UAAUC,KAAK,CACXC,KAAM,OACNC,IAAKH,UAAUI,OAAO,wBACtBC,SAAU,OACVC,KAAMC,KAAKC,UAAU,CACjBC,gBAAiBf,KAAKE,cAAc,YAAYL,UAErDmB,KAAKlC,6BACRuB,EAAEY,kBACK,MAhDnBpC,WASE,SAASqC,uBAAuBC,KAAO,OAAOA,KAAOA,IAAIC,WAAaD,IAAM,CAAErB,QAASqB,KATzFD,CAAArC","file":"index.js","sourcesContent":["import globalize from 'globalize';\n\n/* eslint-disable indent */\n\n    function processForgotPasswordResult(result) {\n        if (result.Action == 'ContactAdmin') {\n            return void Dashboard.alert({\n                message: globalize.translate('MessageContactAdminToResetPassword'),\n                title: globalize.translate('ButtonForgotPassword')\n            });\n        }\n\n        if (result.Action == 'InNetworkRequired') {\n            return void Dashboard.alert({\n                message: globalize.translate('MessageForgotPasswordInNetworkRequired'),\n                title: globalize.translate('ButtonForgotPassword')\n            });\n        }\n\n        if (result.Action == 'PinCode') {\n            let msg = globalize.translate('MessageForgotPasswordFileCreated');\n            msg += '<br/>';\n            msg += '<br/>';\n            msg += 'Enter PIN here to finish Password Reset<br/>';\n            msg += '<br/>';\n            msg += result.PinFile;\n            msg += '<br/>';\n            return void Dashboard.alert({\n                message: msg,\n                title: globalize.translate('ButtonForgotPassword'),\n                callback: function () {\n                    Dashboard.navigate('forgotpasswordpin.html');\n                }\n            });\n        }\n    }\n\n    export default function (view, params) {\n        function onSubmit(e) {\n            ApiClient.ajax({\n                type: 'POST',\n                url: ApiClient.getUrl('Users/ForgotPassword'),\n                dataType: 'json',\n                data: JSON.stringify({\n                    EnteredUsername: view.querySelector('#txtName').value\n                })\n            }).then(processForgotPasswordResult);\n            e.preventDefault();\n            return false;\n        }\n\n        view.querySelector('form').addEventListener('submit', onSubmit);\n    }\n\n/* eslint-enable indent */\n"]}