define(["exports","loading","dom","emby-input","emby-button"],(function(_exports,_loading,_dom,_embyInput,_embyButton){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function loadData(){var page=this;_loading.default.show();var id=getParameterByName("id"),promise1=ApiClient.getJSON(ApiClient.getUrl("Devices/Info",{Id:id})),promise2=ApiClient.getJSON(ApiClient.getUrl("Devices/Options",{Id:id}));Promise.all([promise1,promise2]).then((function(responses){!function load(page,device,deviceOptions){page.querySelector("#txtCustomName",page).value=deviceOptions.CustomName||"",page.querySelector(".reportedName",page).innerHTML=device.Name||""}(page,responses[0],responses[1]),_loading.default.hide()}))}function onSubmit(e){return function save(page){var id=getParameterByName("id");ApiClient.ajax({url:ApiClient.getUrl("Devices/Options",{Id:id}),type:"POST",data:JSON.stringify({CustomName:page.querySelector("#txtCustomName").value}),contentType:"application/json"}).then(Dashboard.processServerConfigurationUpdateResult)}(_dom.default.parentWithClass(this,"page")),e.preventDefault(),!1}Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=function _default(view,params){view.querySelector("form").addEventListener("submit",onSubmit),view.addEventListener("viewshow",loadData)},_loading=_interopRequireDefault(_loading),_dom=_interopRequireDefault(_dom)}));
//# sourceMappingURL=device.js.map
