define(["jQuery","loading","libraryMenu","globalize"],(function(_jQuery,_loading,_libraryMenu,_globalize){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function onSubmit(){_loading.default.show();var form=this;return ApiClient.getServerConfiguration().then((function(config){config.MinResumePct=(0,_jQuery.default)("#txtMinResumePct",form).val(),config.MaxResumePct=(0,_jQuery.default)("#txtMaxResumePct",form).val(),config.MinResumeDurationSeconds=(0,_jQuery.default)("#txtMinResumeDuration",form).val(),ApiClient.updateServerConfiguration(config).then(Dashboard.processServerConfigurationUpdateResult)})),!1}function getTabs(){return[{href:"encodingsettings.html",name:_globalize.default.translate("Transcoding")},{href:"playbackconfiguration.html",name:_globalize.default.translate("ButtonResume")},{href:"streamingsettings.html",name:_globalize.default.translate("TabStreaming")}]}_jQuery=_interopRequireDefault(_jQuery),_loading=_interopRequireDefault(_loading),_libraryMenu=_interopRequireDefault(_libraryMenu),_globalize=_interopRequireDefault(_globalize),(0,_jQuery.default)(document).on("pageinit","#playbackConfigurationPage",(function(){(0,_jQuery.default)(".playbackConfigurationForm").off("submit",onSubmit).on("submit",onSubmit)})).on("pageshow","#playbackConfigurationPage",(function(){_loading.default.show(),_libraryMenu.default.setTabs("playback",1,getTabs);var page=this;ApiClient.getServerConfiguration().then((function(config){!function loadPage(page,config){(0,_jQuery.default)("#txtMinResumePct",page).val(config.MinResumePct),(0,_jQuery.default)("#txtMaxResumePct",page).val(config.MaxResumePct),(0,_jQuery.default)("#txtMinResumeDuration",page).val(config.MinResumeDurationSeconds),_loading.default.hide()}(page,config)}))}))}));
//# sourceMappingURL=playback.js.map
