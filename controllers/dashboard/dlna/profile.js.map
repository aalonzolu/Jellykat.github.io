{"version":3,"sources":["controllers/dashboard/dlna/profile.js"],"names":["define","_require","_jQuery","_loading","_globalize","_embySelect","_embyButton","_embyInput","_embyCheckbox","_listViewStyle","_interopRequireDefault","obj","__esModule","default","_typeof","Symbol","iterator","constructor","prototype","_getRequireWildcardCache","WeakMap","cache","_slicedToArray","arr","i","_arrayWithHoles","Array","isArray","_iterableToArrayLimit","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","_unsupportedIterableToArray","_nonIterableRest","TypeError","o","minLen","_arrayLikeToArray","n","toString","call","slice","name","from","test","len","arr2","loadProfile","page","loading","show","promise1","getProfile","id","getParameterByName","url","ApiClient","getJSON","getUrl","promise2","getUsers","Promise","all","then","responses","currentProfile","renderProfile","profile","users","val","Name","each","this","checked","SupportedMediaTypes","split","indexOf","getAttribute","prop","EnableAlbumArtInDidl","EnableSingleAlbumArtLimit","renderXmlDocumentAttributes","XmlRootAttributes","idInfo","Identification","renderIdentificationHeaders","Headers","renderSubtitleProfiles","SubtitleProfiles","FriendlyName","ModelName","ModelNumber","ModelDescription","ModelUrl","Manufacturer","ManufacturerUrl","SerialNumber","DeviceDescription","AlbumArtPn","MaxAlbumArtWidth","MaxAlbumArtHeight","MaxIconWidth","MaxIconHeight","IgnoreTranscodeByteRangeRequests","MaxStreamingBitrate","MusicStreamingTranscodingBitrate","RequiresPlainFolders","RequiresPlainVideoItems","ProtocolInfo","XDlnaCap","XDlnaDoc","SonyAggregationFlags","DirectPlayProfiles","TranscodingProfiles","ContainerProfiles","CodecProfiles","ResponseProfiles","usersHtml","map","u","Id","join","html","UserId","renderSubProfiles","hide","headers","index","h","li","Value","Match","elem","trigger","on","itemIndex","parseInt","splice","openPopup","classList","remove","closePopup","add","attribute","profiles","Format","editSubtitleProfile","isSubProfileNew","currentSubProfile","popup","Method","DidlMode","renderDirectPlayProfiles","renderTranscodingProfiles","renderContainerProfiles","renderCodecProfiles","renderResponseProfiles","currentType","_step","_iterator","_createForOfIteratorHelper","allowArrayLike","it","F","s","e","_e2","f","normalCompletion","didErr","step","_e3","return","entries","_step$value","Type","globalize","translate","Container","allText","VideoCodec","AudioCodec","deleteDirectPlayProfile","editDirectPlayProfile","directPlayProfile","Protocol","deleteTranscodingProfile","editTranscodingProfile","transcodingProfile","EnableMpegtsM2TsMode","EstimateContentLength","TranscodeSeekInfo","Conditions","c","Property","deleteContainerProfile","editContainerProfile","containerProfile","type","replace","Codec","deleteCodecProfile","editCodecProfile","codecProfile","deleteResponseProfile","editResponseProfile","responseProfile","saveProfile","updateProfile","is","get","ajax","data","JSON","stringify","contentType","_resolve","_reject","imported","_interopRequireWildcard","has","newObj","hasPropertyDescriptor","defineProperty","getOwnPropertyDescriptor","key","hasOwnProperty","desc","set","_ref","toast","Dashboard","processErrorResponse","navigate","document","siblings","removeClass","addClass","tagName","editIdentificationHeader","header","editXmlDocumentAttribute","off","DlnaProfilePage","onSubmit","onDirectPlayFormSubmit","onTranscodingProfileFormSubmit","onContainerProfileFormSubmit","onCodecProfileFormSubmit","onResponseProfileFormSubmit","onIdentificationHeaderFormSubmit","onXmlAttributeFormSubmit","onSubtitleProfileFormSubmit","window","parents","saveDirectPlayProfile","saveTranscodingProfile","Context","saveContainerProfile","saveCodecProfile","saveResponseProfile","saveIdentificationHeader","saveXmlDocumentAttribute","saveSubtitleProfile"],"mappings":"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","file":"profile.js","sourcesContent":["import $ from 'jQuery';\nimport loading from 'loading';\nimport globalize from 'globalize';\nimport 'emby-select';\nimport 'emby-button';\nimport 'emby-input';\nimport 'emby-checkbox';\nimport 'listViewStyle';\n\n/* eslint-disable indent */\n\n    function loadProfile(page) {\n        loading.show();\n        const promise1 = getProfile();\n        const promise2 = ApiClient.getUsers();\n        Promise.all([promise1, promise2]).then(function (responses) {\n            currentProfile = responses[0];\n            renderProfile(page, currentProfile, responses[1]);\n            loading.hide();\n        });\n    }\n\n    function getProfile() {\n        const id = getParameterByName('id');\n        const url = id ? 'Dlna/Profiles/' + id : 'Dlna/Profiles/Default';\n        return ApiClient.getJSON(ApiClient.getUrl(url));\n    }\n\n    function renderProfile(page, profile, users) {\n        $('#txtName', page).val(profile.Name);\n        $('.chkMediaType', page).each(function () {\n            this.checked = (profile.SupportedMediaTypes || '').split(',').indexOf(this.getAttribute('data-value')) != -1;\n        });\n        $('#chkEnableAlbumArtInDidl', page).prop('checked', profile.EnableAlbumArtInDidl);\n        $('#chkEnableSingleImageLimit', page).prop('checked', profile.EnableSingleAlbumArtLimit);\n        renderXmlDocumentAttributes(page, profile.XmlRootAttributes || []);\n        const idInfo = profile.Identification || {};\n        renderIdentificationHeaders(page, idInfo.Headers || []);\n        renderSubtitleProfiles(page, profile.SubtitleProfiles || []);\n        $('#txtInfoFriendlyName', page).val(profile.FriendlyName || '');\n        $('#txtInfoModelName', page).val(profile.ModelName || '');\n        $('#txtInfoModelNumber', page).val(profile.ModelNumber || '');\n        $('#txtInfoModelDescription', page).val(profile.ModelDescription || '');\n        $('#txtInfoModelUrl', page).val(profile.ModelUrl || '');\n        $('#txtInfoManufacturer', page).val(profile.Manufacturer || '');\n        $('#txtInfoManufacturerUrl', page).val(profile.ManufacturerUrl || '');\n        $('#txtInfoSerialNumber', page).val(profile.SerialNumber || '');\n        $('#txtIdFriendlyName', page).val(idInfo.FriendlyName || '');\n        $('#txtIdModelName', page).val(idInfo.ModelName || '');\n        $('#txtIdModelNumber', page).val(idInfo.ModelNumber || '');\n        $('#txtIdModelDescription', page).val(idInfo.ModelDescription || '');\n        $('#txtIdModelUrl', page).val(idInfo.ModelUrl || '');\n        $('#txtIdManufacturer', page).val(idInfo.Manufacturer || '');\n        $('#txtIdManufacturerUrl', page).val(idInfo.ManufacturerUrl || '');\n        $('#txtIdSerialNumber', page).val(idInfo.SerialNumber || '');\n        $('#txtIdDeviceDescription', page).val(idInfo.DeviceDescription || '');\n        $('#txtAlbumArtPn', page).val(profile.AlbumArtPn || '');\n        $('#txtAlbumArtMaxWidth', page).val(profile.MaxAlbumArtWidth || '');\n        $('#txtAlbumArtMaxHeight', page).val(profile.MaxAlbumArtHeight || '');\n        $('#txtIconMaxWidth', page).val(profile.MaxIconWidth || '');\n        $('#txtIconMaxHeight', page).val(profile.MaxIconHeight || '');\n        $('#chkIgnoreTranscodeByteRangeRequests', page).prop('checked', profile.IgnoreTranscodeByteRangeRequests);\n        $('#txtMaxAllowedBitrate', page).val(profile.MaxStreamingBitrate || '');\n        $('#txtMusicStreamingTranscodingBitrate', page).val(profile.MusicStreamingTranscodingBitrate || '');\n        $('#chkRequiresPlainFolders', page).prop('checked', profile.RequiresPlainFolders);\n        $('#chkRequiresPlainVideoItems', page).prop('checked', profile.RequiresPlainVideoItems);\n        $('#txtProtocolInfo', page).val(profile.ProtocolInfo || '');\n        $('#txtXDlnaCap', page).val(profile.XDlnaCap || '');\n        $('#txtXDlnaDoc', page).val(profile.XDlnaDoc || '');\n        $('#txtSonyAggregationFlags', page).val(profile.SonyAggregationFlags || '');\n        profile.DirectPlayProfiles = profile.DirectPlayProfiles || [];\n        profile.TranscodingProfiles = profile.TranscodingProfiles || [];\n        profile.ContainerProfiles = profile.ContainerProfiles || [];\n        profile.CodecProfiles = profile.CodecProfiles || [];\n        profile.ResponseProfiles = profile.ResponseProfiles || [];\n        const usersHtml = '<option></option>' + users.map(function (u) {\n            return '<option value=\"' + u.Id + '\">' + u.Name + '</option>';\n        }).join('');\n        $('#selectUser', page).html(usersHtml).val(profile.UserId || '');\n        renderSubProfiles(page, profile);\n    }\n\n    function renderIdentificationHeaders(page, headers) {\n        let index = 0;\n        const html = '<div class=\"paperList\">' + headers.map(function (h) {\n            let li = '<div class=\"listItem\">';\n            li += '<span class=\"material-icons listItemIcon info\"></span>';\n            li += '<div class=\"listItemBody\">';\n            li += '<h3 class=\"listItemBodyText\">' + h.Name + ': ' + (h.Value || '') + '</h3>';\n            li += '<div class=\"listItemBodyText secondary\">' + (h.Match || '') + '</div>';\n            li += '</div>';\n            li += '<button type=\"button\" is=\"paper-icon-button-light\" class=\"btnDeleteIdentificationHeader listItemButton\" data-index=\"' + index + '\"><span class=\"material-icons delete\"></span></button>';\n            li += '</div>';\n            index++;\n            return li;\n        }).join('') + '</div>';\n        const elem = $('.httpHeaderIdentificationList', page).html(html).trigger('create');\n        $('.btnDeleteIdentificationHeader', elem).on('click', function () {\n            const itemIndex = parseInt(this.getAttribute('data-index'));\n            currentProfile.Identification.Headers.splice(itemIndex, 1);\n            renderIdentificationHeaders(page, currentProfile.Identification.Headers);\n        });\n    }\n\n    function openPopup(elem) {\n        elem.classList.remove('hide');\n    }\n\n    function closePopup(elem) {\n        elem.classList.add('hide');\n    }\n\n    function editIdentificationHeader(page, header) {\n        isSubProfileNew = header == null;\n        header = header || {};\n        currentSubProfile = header;\n        const popup = $('#identificationHeaderPopup', page);\n        $('#txtIdentificationHeaderName', popup).val(header.Name || '');\n        $('#txtIdentificationHeaderValue', popup).val(header.Value || '');\n        $('#selectMatchType', popup).val(header.Match || 'Equals');\n        openPopup(popup[0]);\n    }\n\n    function saveIdentificationHeader(page) {\n        currentSubProfile.Name = $('#txtIdentificationHeaderName', page).val();\n        currentSubProfile.Value = $('#txtIdentificationHeaderValue', page).val();\n        currentSubProfile.Match = $('#selectMatchType', page).val();\n\n        if (isSubProfileNew) {\n            currentProfile.Identification = currentProfile.Identification || {};\n            currentProfile.Identification.Headers = currentProfile.Identification.Headers || [];\n            currentProfile.Identification.Headers.push(currentSubProfile);\n        }\n\n        renderIdentificationHeaders(page, currentProfile.Identification.Headers);\n        currentSubProfile = null;\n        closePopup($('#identificationHeaderPopup', page)[0]);\n    }\n\n    function renderXmlDocumentAttributes(page, attribute) {\n        const html = '<div class=\"paperList\">' + attribute.map(function (h) {\n            let li = '<div class=\"listItem\">';\n            li += '<span class=\"material-icons listItemIcon info\"></span>';\n            li += '<div class=\"listItemBody\">';\n            li += '<h3 class=\"listItemBodyText\">' + h.Name + ' = ' + (h.Value || '') + '</h3>';\n            li += '</div>';\n            li += '<button type=\"button\" is=\"paper-icon-button-light\" class=\"btnDeleteXmlAttribute listItemButton\" data-index=\"0\"><span class=\"material-icons delete\"></span></button>';\n            return li += '</div>';\n        }).join('') + '</div>';\n        const elem = $('.xmlDocumentAttributeList', page).html(html).trigger('create');\n        $('.btnDeleteXmlAttribute', elem).on('click', function () {\n            const itemIndex = parseInt(this.getAttribute('data-index'));\n            currentProfile.XmlRootAttributes.splice(itemIndex, 1);\n            renderXmlDocumentAttributes(page, currentProfile.XmlRootAttributes);\n        });\n    }\n\n    function editXmlDocumentAttribute(page, attribute) {\n        isSubProfileNew = attribute == null;\n        attribute = attribute || {};\n        currentSubProfile = attribute;\n        const popup = $('#xmlAttributePopup', page);\n        $('#txtXmlAttributeName', popup).val(attribute.Name || '');\n        $('#txtXmlAttributeValue', popup).val(attribute.Value || '');\n        openPopup(popup[0]);\n    }\n\n    function saveXmlDocumentAttribute(page) {\n        currentSubProfile.Name = $('#txtXmlAttributeName', page).val();\n        currentSubProfile.Value = $('#txtXmlAttributeValue', page).val();\n\n        if (isSubProfileNew) {\n            currentProfile.XmlRootAttributes.push(currentSubProfile);\n        }\n\n        renderXmlDocumentAttributes(page, currentProfile.XmlRootAttributes);\n        currentSubProfile = null;\n        closePopup($('#xmlAttributePopup', page)[0]);\n    }\n\n    function renderSubtitleProfiles(page, profiles) {\n        let index = 0;\n        const html = '<div class=\"paperList\">' + profiles.map(function (h) {\n            let li = '<div class=\"listItem lnkEditSubProfile\" data-index=\"' + index + '\">';\n            li += '<span class=\"material-icons listItemIcon info\"></span>';\n            li += '<div class=\"listItemBody\">';\n            li += '<h3 class=\"listItemBodyText\">' + (h.Format || '') + '</h3>';\n            li += '</div>';\n            li += '<button type=\"button\" is=\"paper-icon-button-light\" class=\"btnDeleteProfile listItemButton\" data-index=\"' + index + '\"><span class=\"material-icons delete\"></span></button>';\n            li += '</div>';\n            index++;\n            return li;\n        }).join('') + '</div>';\n        const elem = $('.subtitleProfileList', page).html(html).trigger('create');\n        $('.btnDeleteProfile', elem).on('click', function () {\n            const itemIndex = parseInt(this.getAttribute('data-index'));\n            currentProfile.SubtitleProfiles.splice(itemIndex, 1);\n            renderSubtitleProfiles(page, currentProfile.SubtitleProfiles);\n        });\n        $('.lnkEditSubProfile', elem).on('click', function () {\n            const itemIndex = parseInt(this.getAttribute('data-index'));\n            editSubtitleProfile(page, currentProfile.SubtitleProfiles[itemIndex]);\n        });\n    }\n\n    function editSubtitleProfile(page, profile) {\n        isSubProfileNew = profile == null;\n        profile = profile || {};\n        currentSubProfile = profile;\n        const popup = $('#subtitleProfilePopup', page);\n        $('#txtSubtitleProfileFormat', popup).val(profile.Format || '');\n        $('#selectSubtitleProfileMethod', popup).val(profile.Method || '');\n        $('#selectSubtitleProfileDidlMode', popup).val(profile.DidlMode || '');\n        openPopup(popup[0]);\n    }\n\n    function saveSubtitleProfile(page) {\n        currentSubProfile.Format = $('#txtSubtitleProfileFormat', page).val();\n        currentSubProfile.Method = $('#selectSubtitleProfileMethod', page).val();\n        currentSubProfile.DidlMode = $('#selectSubtitleProfileDidlMode', page).val();\n\n        if (isSubProfileNew) {\n            currentProfile.SubtitleProfiles.push(currentSubProfile);\n        }\n\n        renderSubtitleProfiles(page, currentProfile.SubtitleProfiles);\n        currentSubProfile = null;\n        closePopup($('#subtitleProfilePopup', page)[0]);\n    }\n\n    function renderSubProfiles(page, profile) {\n        renderDirectPlayProfiles(page, profile.DirectPlayProfiles);\n        renderTranscodingProfiles(page, profile.TranscodingProfiles);\n        renderContainerProfiles(page, profile.ContainerProfiles);\n        renderCodecProfiles(page, profile.CodecProfiles);\n        renderResponseProfiles(page, profile.ResponseProfiles);\n    }\n\n    function saveDirectPlayProfile(page) {\n        currentSubProfile.Type = $('#selectDirectPlayProfileType', page).val();\n        currentSubProfile.Container = $('#txtDirectPlayContainer', page).val();\n        currentSubProfile.AudioCodec = $('#txtDirectPlayAudioCodec', page).val();\n        currentSubProfile.VideoCodec = $('#txtDirectPlayVideoCodec', page).val();\n\n        if (isSubProfileNew) {\n            currentProfile.DirectPlayProfiles.push(currentSubProfile);\n        }\n\n        renderSubProfiles(page, currentProfile);\n        currentSubProfile = null;\n        closePopup($('#popupEditDirectPlayProfile', page)[0]);\n    }\n\n    function renderDirectPlayProfiles(page, profiles) {\n        let html = '';\n        html += '<ul data-role=\"listview\" data-inset=\"true\" data-split-icon=\"delete\">';\n        let currentType;\n\n        for (const [index, profile] of profiles.entries()) {\n            if (profile.Type !== currentType) {\n                html += '<li data-role=\"list-divider\">' + profile.Type + '</li>';\n                currentType = profile.Type;\n            }\n\n            html += '<div>';\n            html += '<a is=\"emby-linkbutton\" href=\"#\" class=\"lnkEditSubProfile\" data-profileindex=\"' + index + '\">';\n            html += '<p>' + globalize.translate('ValueContainer', profile.Container || allText) + '</p>';\n\n            if (profile.Type == 'Video') {\n                html += '<p>' + globalize.translate('ValueVideoCodec', profile.VideoCodec || allText) + '</p>';\n                html += '<p>' + globalize.translate('ValueAudioCodec', profile.AudioCodec || allText) + '</p>';\n            } else {\n                if (profile.Type == 'Audio') {\n                    html += '<p>' + globalize.translate('ValueCodec', profile.AudioCodec || allText) + '</p>';\n                }\n            }\n\n            html += '</a>';\n            html += '<button type=\"button\" is=\"paper-icon-button-light\" class=\"btnDeleteProfile listItemButton\" data-profileindex=\"' + index + '\"><span class=\"material-icons delete\"></span></button>';\n            html += '</div>';\n        }\n\n        html += '</ul>';\n        const elem = $('.directPlayProfiles', page).html(html).trigger('create');\n        $('.btnDeleteProfile', elem).on('click', function () {\n            const index = this.getAttribute('data-profileindex');\n            deleteDirectPlayProfile(page, index);\n        });\n        $('.lnkEditSubProfile', elem).on('click', function () {\n            const index = parseInt(this.getAttribute('data-profileindex'));\n            editDirectPlayProfile(page, currentProfile.DirectPlayProfiles[index]);\n        });\n    }\n\n    function deleteDirectPlayProfile(page, index) {\n        currentProfile.DirectPlayProfiles.splice(index, 1);\n        renderDirectPlayProfiles(page, currentProfile.DirectPlayProfiles);\n    }\n\n    function editDirectPlayProfile(page, directPlayProfile) {\n        isSubProfileNew = directPlayProfile == null;\n        directPlayProfile = directPlayProfile || {};\n        currentSubProfile = directPlayProfile;\n        const popup = $('#popupEditDirectPlayProfile', page);\n        $('#selectDirectPlayProfileType', popup).val(directPlayProfile.Type || 'Video').trigger('change');\n        $('#txtDirectPlayContainer', popup).val(directPlayProfile.Container || '');\n        $('#txtDirectPlayAudioCodec', popup).val(directPlayProfile.AudioCodec || '');\n        $('#txtDirectPlayVideoCodec', popup).val(directPlayProfile.VideoCodec || '');\n        openPopup(popup[0]);\n    }\n\n    function renderTranscodingProfiles(page, profiles) {\n        let html = '';\n        html += '<ul data-role=\"listview\" data-inset=\"true\" data-split-icon=\"delete\">';\n        let currentType;\n\n        for (let i = 0, length = profiles.length; i < length; i++) {\n            const profile = profiles[i];\n\n            if (profile.Type !== currentType) {\n                html += '<li data-role=\"list-divider\">' + profile.Type + '</li>';\n                currentType = profile.Type;\n            }\n\n            html += '<div>';\n            html += '<a is=\"emby-linkbutton\" href=\"#\" class=\"lnkEditSubProfile\" data-profileindex=\"' + i + '\">';\n            html += '<p>Protocol: ' + (profile.Protocol || 'Http') + '</p>';\n            html += '<p>' + globalize.translate('ValueContainer', profile.Container || allText) + '</p>';\n\n            if (profile.Type == 'Video') {\n                html += '<p>' + globalize.translate('ValueVideoCodec', profile.VideoCodec || allText) + '</p>';\n                html += '<p>' + globalize.translate('ValueAudioCodec', profile.AudioCodec || allText) + '</p>';\n            } else {\n                if (profile.Type == 'Audio') {\n                    html += '<p>' + globalize.translate('ValueCodec', profile.AudioCodec || allText) + '</p>';\n                }\n            }\n\n            html += '</a>';\n            html += '<button type=\"button\" is=\"paper-icon-button-light\" class=\"btnDeleteProfile listItemButton\" data-profileindex=\"' + i + '\"><span class=\"material-icons delete\"></span></button>';\n            html += '</div>';\n        }\n\n        html += '</ul>';\n        const elem = $('.transcodingProfiles', page).html(html).trigger('create');\n        $('.btnDeleteProfile', elem).on('click', function () {\n            const index = this.getAttribute('data-profileindex');\n            deleteTranscodingProfile(page, index);\n        });\n        $('.lnkEditSubProfile', elem).on('click', function () {\n            const index = parseInt(this.getAttribute('data-profileindex'));\n            editTranscodingProfile(page, currentProfile.TranscodingProfiles[index]);\n        });\n    }\n\n    function editTranscodingProfile(page, transcodingProfile) {\n        isSubProfileNew = transcodingProfile == null;\n        transcodingProfile = transcodingProfile || {};\n        currentSubProfile = transcodingProfile;\n        const popup = $('#transcodingProfilePopup', page);\n        $('#selectTranscodingProfileType', popup).val(transcodingProfile.Type || 'Video').trigger('change');\n        $('#txtTranscodingContainer', popup).val(transcodingProfile.Container || '');\n        $('#txtTranscodingAudioCodec', popup).val(transcodingProfile.AudioCodec || '');\n        $('#txtTranscodingVideoCodec', popup).val(transcodingProfile.VideoCodec || '');\n        $('#selectTranscodingProtocol', popup).val(transcodingProfile.Protocol || 'Http');\n        $('#chkEnableMpegtsM2TsMode', popup).prop('checked', transcodingProfile.EnableMpegtsM2TsMode || false);\n        $('#chkEstimateContentLength', popup).prop('checked', transcodingProfile.EstimateContentLength || false);\n        $('#chkReportByteRangeRequests', popup).prop('checked', transcodingProfile.TranscodeSeekInfo == 'Bytes');\n        $('.radioTabButton:first', popup).trigger('click');\n        openPopup(popup[0]);\n    }\n\n    function deleteTranscodingProfile(page, index) {\n        currentProfile.TranscodingProfiles.splice(index, 1);\n        renderTranscodingProfiles(page, currentProfile.TranscodingProfiles);\n    }\n\n    function saveTranscodingProfile(page) {\n        currentSubProfile.Type = $('#selectTranscodingProfileType', page).val();\n        currentSubProfile.Container = $('#txtTranscodingContainer', page).val();\n        currentSubProfile.AudioCodec = $('#txtTranscodingAudioCodec', page).val();\n        currentSubProfile.VideoCodec = $('#txtTranscodingVideoCodec', page).val();\n        currentSubProfile.Protocol = $('#selectTranscodingProtocol', page).val();\n        currentSubProfile.Context = 'Streaming';\n        currentSubProfile.EnableMpegtsM2TsMode = $('#chkEnableMpegtsM2TsMode', page).is(':checked');\n        currentSubProfile.EstimateContentLength = $('#chkEstimateContentLength', page).is(':checked');\n        currentSubProfile.TranscodeSeekInfo = $('#chkReportByteRangeRequests', page).is(':checked') ? 'Bytes' : 'Auto';\n\n        if (isSubProfileNew) {\n            currentProfile.TranscodingProfiles.push(currentSubProfile);\n        }\n\n        renderSubProfiles(page, currentProfile);\n        currentSubProfile = null;\n        closePopup($('#transcodingProfilePopup', page)[0]);\n    }\n\n    function renderContainerProfiles(page, profiles) {\n        let html = '';\n        html += '<ul data-role=\"listview\" data-inset=\"true\" data-split-icon=\"delete\">';\n        let currentType;\n\n        for (let i = 0, length = profiles.length; i < length; i++) {\n            const profile = profiles[i];\n\n            if (profile.Type !== currentType) {\n                html += '<li data-role=\"list-divider\">' + profile.Type + '</li>';\n                currentType = profile.Type;\n            }\n\n            html += '<div>';\n            html += '<a is=\"emby-linkbutton\" href=\"#\" class=\"lnkEditSubProfile\" data-profileindex=\"' + i + '\">';\n            html += '<p>' + globalize.translate('ValueContainer', profile.Container || allText) + '</p>';\n\n            if (profile.Conditions && profile.Conditions.length) {\n                html += '<p>';\n                html += globalize.translate('ValueConditions', profile.Conditions.map(function (c) {\n                    return c.Property;\n                }).join(', '));\n                html += '</p>';\n            }\n\n            html += '</a>';\n            html += '<button type=\"button\" is=\"paper-icon-button-light\" class=\"btnDeleteProfile listItemButton\" data-profileindex=\"' + i + '\"><span class=\"material-icons delete\"></span></button>';\n            html += '</div>';\n        }\n\n        html += '</ul>';\n        const elem = $('.containerProfiles', page).html(html).trigger('create');\n        $('.btnDeleteProfile', elem).on('click', function () {\n            const index = this.getAttribute('data-profileindex');\n            deleteContainerProfile(page, index);\n        });\n        $('.lnkEditSubProfile', elem).on('click', function () {\n            const index = parseInt(this.getAttribute('data-profileindex'));\n            editContainerProfile(page, currentProfile.ContainerProfiles[index]);\n        });\n    }\n\n    function deleteContainerProfile(page, index) {\n        currentProfile.ContainerProfiles.splice(index, 1);\n        renderContainerProfiles(page, currentProfile.ContainerProfiles);\n    }\n\n    function editContainerProfile(page, containerProfile) {\n        isSubProfileNew = containerProfile == null;\n        containerProfile = containerProfile || {};\n        currentSubProfile = containerProfile;\n        const popup = $('#containerProfilePopup', page);\n        $('#selectContainerProfileType', popup).val(containerProfile.Type || 'Video').trigger('change');\n        $('#txtContainerProfileContainer', popup).val(containerProfile.Container || '');\n        $('.radioTabButton:first', popup).trigger('click');\n        openPopup(popup[0]);\n    }\n\n    function saveContainerProfile(page) {\n        currentSubProfile.Type = $('#selectContainerProfileType', page).val();\n        currentSubProfile.Container = $('#txtContainerProfileContainer', page).val();\n\n        if (isSubProfileNew) {\n            currentProfile.ContainerProfiles.push(currentSubProfile);\n        }\n\n        renderSubProfiles(page, currentProfile);\n        currentSubProfile = null;\n        closePopup($('#containerProfilePopup', page)[0]);\n    }\n\n    function renderCodecProfiles(page, profiles) {\n        let html = '';\n        html += '<ul data-role=\"listview\" data-inset=\"true\" data-split-icon=\"delete\">';\n        let currentType;\n\n        for (let i = 0, length = profiles.length; i < length; i++) {\n            const profile = profiles[i];\n            const type = profile.Type.replace('VideoAudio', 'Video Audio');\n\n            if (type !== currentType) {\n                html += '<li data-role=\"list-divider\">' + type + '</li>';\n                currentType = type;\n            }\n\n            html += '<div>';\n            html += '<a is=\"emby-linkbutton\" href=\"#\" class=\"lnkEditSubProfile\" data-profileindex=\"' + i + '\">';\n            html += '<p>' + globalize.translate('ValueCodec', profile.Codec || allText) + '</p>';\n\n            if (profile.Conditions && profile.Conditions.length) {\n                html += '<p>';\n                html += globalize.translate('ValueConditions', profile.Conditions.map(function (c) {\n                    return c.Property;\n                }).join(', '));\n                html += '</p>';\n            }\n\n            html += '</a>';\n            html += '<button type=\"button\" is=\"paper-icon-button-light\" class=\"btnDeleteProfile listItemButton\" data-profileindex=\"' + i + '\"><span class=\"material-icons delete\"></span></button>';\n            html += '</div>';\n        }\n\n        html += '</ul>';\n        const elem = $('.codecProfiles', page).html(html).trigger('create');\n        $('.btnDeleteProfile', elem).on('click', function () {\n            const index = this.getAttribute('data-profileindex');\n            deleteCodecProfile(page, index);\n        });\n        $('.lnkEditSubProfile', elem).on('click', function () {\n            const index = parseInt(this.getAttribute('data-profileindex'));\n            editCodecProfile(page, currentProfile.CodecProfiles[index]);\n        });\n    }\n\n    function deleteCodecProfile(page, index) {\n        currentProfile.CodecProfiles.splice(index, 1);\n        renderCodecProfiles(page, currentProfile.CodecProfiles);\n    }\n\n    function editCodecProfile(page, codecProfile) {\n        isSubProfileNew = codecProfile == null;\n        codecProfile = codecProfile || {};\n        currentSubProfile = codecProfile;\n        const popup = $('#codecProfilePopup', page);\n        $('#selectCodecProfileType', popup).val(codecProfile.Type || 'Video').trigger('change');\n        $('#txtCodecProfileCodec', popup).val(codecProfile.Codec || '');\n        $('.radioTabButton:first', popup).trigger('click');\n        openPopup(popup[0]);\n    }\n\n    function saveCodecProfile(page) {\n        currentSubProfile.Type = $('#selectCodecProfileType', page).val();\n        currentSubProfile.Codec = $('#txtCodecProfileCodec', page).val();\n\n        if (isSubProfileNew) {\n            currentProfile.CodecProfiles.push(currentSubProfile);\n        }\n\n        renderSubProfiles(page, currentProfile);\n        currentSubProfile = null;\n        closePopup($('#codecProfilePopup', page)[0]);\n    }\n\n    function renderResponseProfiles(page, profiles) {\n        let html = '';\n        html += '<ul data-role=\"listview\" data-inset=\"true\" data-split-icon=\"delete\">';\n        let currentType;\n\n        for (let i = 0, length = profiles.length; i < length; i++) {\n            const profile = profiles[i];\n\n            if (profile.Type !== currentType) {\n                html += '<li data-role=\"list-divider\">' + profile.Type + '</li>';\n                currentType = profile.Type;\n            }\n\n            html += '<div>';\n            html += '<a is=\"emby-linkbutton\" href=\"#\" class=\"lnkEditSubProfile\" data-profileindex=\"' + i + '\">';\n            html += '<p>' + globalize.translate('ValueContainer', profile.Container || allText) + '</p>';\n\n            if (profile.Type == 'Video') {\n                html += '<p>' + globalize.translate('ValueVideoCodec', profile.VideoCodec || allText) + '</p>';\n                html += '<p>' + globalize.translate('ValueAudioCodec', profile.AudioCodec || allText) + '</p>';\n            } else {\n                if (profile.Type == 'Audio') {\n                    html += '<p>' + globalize.translate('ValueCodec', profile.AudioCodec || allText) + '</p>';\n                }\n            }\n\n            if (profile.Conditions && profile.Conditions.length) {\n                html += '<p>';\n                html += globalize.translate('ValueConditions', profile.Conditions.map(function (c) {\n                    return c.Property;\n                }).join(', '));\n                html += '</p>';\n            }\n\n            html += '</a>';\n            html += '<button type=\"button\" is=\"paper-icon-button-light\" class=\"btnDeleteProfile listItemButton\" data-profileindex=\"' + i + '\"><span class=\"material-icons delete\"></span></button>';\n            html += '</div>';\n        }\n\n        html += '</ul>';\n        const elem = $('.mediaProfiles', page).html(html).trigger('create');\n        $('.btnDeleteProfile', elem).on('click', function () {\n            const index = this.getAttribute('data-profileindex');\n            deleteResponseProfile(page, index);\n        });\n        $('.lnkEditSubProfile', elem).on('click', function () {\n            const index = parseInt(this.getAttribute('data-profileindex'));\n            editResponseProfile(page, currentProfile.ResponseProfiles[index]);\n        });\n    }\n\n    function deleteResponseProfile(page, index) {\n        currentProfile.ResponseProfiles.splice(index, 1);\n        renderResponseProfiles(page, currentProfile.ResponseProfiles);\n    }\n\n    function editResponseProfile(page, responseProfile) {\n        isSubProfileNew = responseProfile == null;\n        responseProfile = responseProfile || {};\n        currentSubProfile = responseProfile;\n        const popup = $('#responseProfilePopup', page);\n        $('#selectResponseProfileType', popup).val(responseProfile.Type || 'Video').trigger('change');\n        $('#txtResponseProfileContainer', popup).val(responseProfile.Container || '');\n        $('#txtResponseProfileAudioCodec', popup).val(responseProfile.AudioCodec || '');\n        $('#txtResponseProfileVideoCodec', popup).val(responseProfile.VideoCodec || '');\n        $('.radioTabButton:first', popup).trigger('click');\n        openPopup(popup[0]);\n    }\n\n    function saveResponseProfile(page) {\n        currentSubProfile.Type = $('#selectResponseProfileType', page).val();\n        currentSubProfile.Container = $('#txtResponseProfileContainer', page).val();\n        currentSubProfile.AudioCodec = $('#txtResponseProfileAudioCodec', page).val();\n        currentSubProfile.VideoCodec = $('#txtResponseProfileVideoCodec', page).val();\n\n        if (isSubProfileNew) {\n            currentProfile.ResponseProfiles.push(currentSubProfile);\n        }\n\n        renderSubProfiles(page, currentProfile);\n        currentSubProfile = null;\n        closePopup($('#responseProfilePopup', page)[0]);\n    }\n\n    function saveProfile(page, profile) {\n        updateProfile(page, profile);\n        const id = getParameterByName('id');\n\n        if (id) {\n            ApiClient.ajax({\n                type: 'POST',\n                url: ApiClient.getUrl('Dlna/Profiles/' + id),\n                data: JSON.stringify(profile),\n                contentType: 'application/json'\n            }).then(function () {\n                import('toast').then(({default: toast}) => {\n                    toast('Settings saved.');\n                });\n            }, Dashboard.processErrorResponse);\n        } else {\n            ApiClient.ajax({\n                type: 'POST',\n                url: ApiClient.getUrl('Dlna/Profiles'),\n                data: JSON.stringify(profile),\n                contentType: 'application/json'\n            }).then(function () {\n                Dashboard.navigate('dlnaprofiles.html');\n            }, Dashboard.processErrorResponse);\n        }\n\n        loading.hide();\n    }\n\n    function updateProfile(page, profile) {\n        profile.Name = $('#txtName', page).val();\n        profile.EnableAlbumArtInDidl = $('#chkEnableAlbumArtInDidl', page).is(':checked');\n        profile.EnableSingleAlbumArtLimit = $('#chkEnableSingleImageLimit', page).is(':checked');\n        profile.SupportedMediaTypes = $('.chkMediaType:checked', page).get().map(function (c) {\n            return c.getAttribute('data-value');\n        }).join(',');\n        profile.Identification = profile.Identification || {};\n        profile.FriendlyName = $('#txtInfoFriendlyName', page).val();\n        profile.ModelName = $('#txtInfoModelName', page).val();\n        profile.ModelNumber = $('#txtInfoModelNumber', page).val();\n        profile.ModelDescription = $('#txtInfoModelDescription', page).val();\n        profile.ModelUrl = $('#txtInfoModelUrl', page).val();\n        profile.Manufacturer = $('#txtInfoManufacturer', page).val();\n        profile.ManufacturerUrl = $('#txtInfoManufacturerUrl', page).val();\n        profile.SerialNumber = $('#txtInfoSerialNumber', page).val();\n        profile.Identification.FriendlyName = $('#txtIdFriendlyName', page).val();\n        profile.Identification.ModelName = $('#txtIdModelName', page).val();\n        profile.Identification.ModelNumber = $('#txtIdModelNumber', page).val();\n        profile.Identification.ModelDescription = $('#txtIdModelDescription', page).val();\n        profile.Identification.ModelUrl = $('#txtIdModelUrl', page).val();\n        profile.Identification.Manufacturer = $('#txtIdManufacturer', page).val();\n        profile.Identification.ManufacturerUrl = $('#txtIdManufacturerUrl', page).val();\n        profile.Identification.SerialNumber = $('#txtIdSerialNumber', page).val();\n        profile.Identification.DeviceDescription = $('#txtIdDeviceDescription', page).val();\n        profile.AlbumArtPn = $('#txtAlbumArtPn', page).val();\n        profile.MaxAlbumArtWidth = $('#txtAlbumArtMaxWidth', page).val();\n        profile.MaxAlbumArtHeight = $('#txtAlbumArtMaxHeight', page).val();\n        profile.MaxIconWidth = $('#txtIconMaxWidth', page).val();\n        profile.MaxIconHeight = $('#txtIconMaxHeight', page).val();\n        profile.RequiresPlainFolders = $('#chkRequiresPlainFolders', page).is(':checked');\n        profile.RequiresPlainVideoItems = $('#chkRequiresPlainVideoItems', page).is(':checked');\n        profile.IgnoreTranscodeByteRangeRequests = $('#chkIgnoreTranscodeByteRangeRequests', page).is(':checked');\n        profile.MaxStreamingBitrate = $('#txtMaxAllowedBitrate', page).val();\n        profile.MusicStreamingTranscodingBitrate = $('#txtMusicStreamingTranscodingBitrate', page).val();\n        profile.ProtocolInfo = $('#txtProtocolInfo', page).val();\n        profile.XDlnaCap = $('#txtXDlnaCap', page).val();\n        profile.XDlnaDoc = $('#txtXDlnaDoc', page).val();\n        profile.SonyAggregationFlags = $('#txtSonyAggregationFlags', page).val();\n        profile.UserId = $('#selectUser', page).val();\n    }\n\n    let currentProfile;\n    let currentSubProfile;\n    let isSubProfileNew;\n    const allText = globalize.translate('All');\n\n    $(document).on('pageinit', '#dlnaProfilePage', function () {\n        const page = this;\n        $('.radioTabButton', page).on('click', function () {\n            $(this).siblings().removeClass('ui-btn-active');\n            $(this).addClass('ui-btn-active');\n            const value = this.tagName == 'A' ? this.getAttribute('data-value') : this.value;\n            const elem = $('.' + value, page);\n            elem.siblings('.tabContent').hide();\n            elem.show();\n        });\n        $('#selectDirectPlayProfileType', page).on('change', function () {\n            if (this.value == 'Video') {\n                $('#fldDirectPlayVideoCodec', page).show();\n            } else {\n                $('#fldDirectPlayVideoCodec', page).hide();\n            }\n\n            if (this.value == 'Photo') {\n                $('#fldDirectPlayAudioCodec', page).hide();\n            } else {\n                $('#fldDirectPlayAudioCodec', page).show();\n            }\n        });\n        $('#selectTranscodingProfileType', page).on('change', function () {\n            if (this.value == 'Video') {\n                $('#fldTranscodingVideoCodec', page).show();\n                $('#fldTranscodingProtocol', page).show();\n                $('#fldEnableMpegtsM2TsMode', page).show();\n            } else {\n                $('#fldTranscodingVideoCodec', page).hide();\n                $('#fldTranscodingProtocol', page).hide();\n                $('#fldEnableMpegtsM2TsMode', page).hide();\n            }\n\n            if (this.value == 'Photo') {\n                $('#fldTranscodingAudioCodec', page).hide();\n                $('#fldEstimateContentLength', page).hide();\n                $('#fldReportByteRangeRequests', page).hide();\n            } else {\n                $('#fldTranscodingAudioCodec', page).show();\n                $('#fldEstimateContentLength', page).show();\n                $('#fldReportByteRangeRequests', page).show();\n            }\n        });\n        $('#selectResponseProfileType', page).on('change', function () {\n            if (this.value == 'Video') {\n                $('#fldResponseProfileVideoCodec', page).show();\n            } else {\n                $('#fldResponseProfileVideoCodec', page).hide();\n            }\n\n            if (this.value == 'Photo') {\n                $('#fldResponseProfileAudioCodec', page).hide();\n            } else {\n                $('#fldResponseProfileAudioCodec', page).show();\n            }\n        });\n        $('.btnAddDirectPlayProfile', page).on('click', function () {\n            editDirectPlayProfile(page);\n        });\n        $('.btnAddTranscodingProfile', page).on('click', function () {\n            editTranscodingProfile(page);\n        });\n        $('.btnAddContainerProfile', page).on('click', function () {\n            editContainerProfile(page);\n        });\n        $('.btnAddCodecProfile', page).on('click', function () {\n            editCodecProfile(page);\n        });\n        $('.btnAddResponseProfile', page).on('click', function () {\n            editResponseProfile(page);\n        });\n        $('.btnAddIdentificationHttpHeader', page).on('click', function () {\n            editIdentificationHeader(page);\n        });\n        $('.btnAddXmlDocumentAttribute', page).on('click', function () {\n            editXmlDocumentAttribute(page);\n        });\n        $('.btnAddSubtitleProfile', page).on('click', function () {\n            editSubtitleProfile(page);\n        });\n        $('.dlnaProfileForm').off('submit', DlnaProfilePage.onSubmit).on('submit', DlnaProfilePage.onSubmit);\n        $('.editDirectPlayProfileForm').off('submit', DlnaProfilePage.onDirectPlayFormSubmit).on('submit', DlnaProfilePage.onDirectPlayFormSubmit);\n        $('.transcodingProfileForm').off('submit', DlnaProfilePage.onTranscodingProfileFormSubmit).on('submit', DlnaProfilePage.onTranscodingProfileFormSubmit);\n        $('.containerProfileForm').off('submit', DlnaProfilePage.onContainerProfileFormSubmit).on('submit', DlnaProfilePage.onContainerProfileFormSubmit);\n        $('.codecProfileForm').off('submit', DlnaProfilePage.onCodecProfileFormSubmit).on('submit', DlnaProfilePage.onCodecProfileFormSubmit);\n        $('.editResponseProfileForm').off('submit', DlnaProfilePage.onResponseProfileFormSubmit).on('submit', DlnaProfilePage.onResponseProfileFormSubmit);\n        $('.identificationHeaderForm').off('submit', DlnaProfilePage.onIdentificationHeaderFormSubmit).on('submit', DlnaProfilePage.onIdentificationHeaderFormSubmit);\n        $('.xmlAttributeForm').off('submit', DlnaProfilePage.onXmlAttributeFormSubmit).on('submit', DlnaProfilePage.onXmlAttributeFormSubmit);\n        $('.subtitleProfileForm').off('submit', DlnaProfilePage.onSubtitleProfileFormSubmit).on('submit', DlnaProfilePage.onSubtitleProfileFormSubmit);\n    }).on('pageshow', '#dlnaProfilePage', function () {\n        const page = this;\n        $('#radioInfo', page).trigger('click');\n        loadProfile(page);\n    });\n    window.DlnaProfilePage = {\n        onSubmit: function () {\n            loading.show();\n            saveProfile($(this).parents('.page'), currentProfile);\n            return false;\n        },\n        onDirectPlayFormSubmit: function () {\n            saveDirectPlayProfile($(this).parents('.page'));\n            return false;\n        },\n        onTranscodingProfileFormSubmit: function () {\n            saveTranscodingProfile($(this).parents('.page'));\n            return false;\n        },\n        onContainerProfileFormSubmit: function () {\n            saveContainerProfile($(this).parents('.page'));\n            return false;\n        },\n        onCodecProfileFormSubmit: function () {\n            saveCodecProfile($(this).parents('.page'));\n            return false;\n        },\n        onResponseProfileFormSubmit: function () {\n            saveResponseProfile($(this).parents('.page'));\n            return false;\n        },\n        onIdentificationHeaderFormSubmit: function () {\n            saveIdentificationHeader($(this).parents('.page'));\n            return false;\n        },\n        onXmlAttributeFormSubmit: function () {\n            saveXmlDocumentAttribute($(this).parents('.page'));\n            return false;\n        },\n        onSubtitleProfileFormSubmit: function () {\n            saveSubtitleProfile($(this).parents('.page'));\n            return false;\n        }\n    };\n\n/* eslint-enable indent */\n"]}