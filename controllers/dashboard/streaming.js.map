{"version":3,"sources":["controllers/dashboard/streaming.js"],"names":["define","_jQuery","_libraryMenu","_loading","_globalize","_interopRequireDefault","obj","__esModule","default","onSubmit","loading","show","form","this","ApiClient","getServerConfiguration","then","config","RemoteClientBitrateLimit","parseInt","parseFloat","val","updateServerConfiguration","Dashboard","processServerConfigurationUpdateResult","getTabs","href","name","globalize","translate","document","on","off","libraryMenu","setTabs","page","loadPage","hide"],"mappings":"AAAAA,OAAO,CAAC,SAAU,cAAe,UAAW,cAAc,SAAUC,QAASC,aAAcC,SAAUC,YACnG,aAOA,SAASC,uBAAuBC,KAAO,OAAOA,KAAOA,IAAIC,WAAaD,IAAM,CAAEE,QAASF,KAIrF,SAASG,WACLC,SAAAA,QAAQC,OACR,IAAMC,KAAOC,KAMb,OALAC,UAAUC,yBAAyBC,MAAK,SAAUC,QAC9CA,OAAOC,yBAA2BC,SAAS,IAAMC,YAAW,EAAAnB,QAAAO,SAAE,+BAAgCI,MAAMS,OAAS,MAC7GP,UAAUQ,0BAA0BL,QAAQD,KAAKO,UAAUC,4CAGxD,EAGX,SAASC,UACL,MAAO,CAAC,CACJC,KAAM,wBACNC,KAAMC,WAAAA,QAAUC,UAAU,gBAC3B,CACCH,KAAM,6BACNC,KAAMC,WAAAA,QAAUC,UAAU,iBAC3B,CACCH,KAAM,yBACNC,KAAMC,WAAAA,QAAUC,UAAU,kBAhCtC5B,QAAAI,uBAAAJ,SACAC,aAAAG,uBAAAH,cACAC,SAAAE,uBAAAF,UACAC,WAAAC,uBAAAD,aAiCI,EAAAH,QAAAO,SAAEsB,UAAUC,GAAG,WAAY,0BAA0B,YACjD,EAAA9B,QAAAO,SAAE,0BAA0BwB,IAAI,SAAUvB,UAAUsB,GAAG,SAAUtB,aAClEsB,GAAG,WAAY,0BAA0B,WACxCrB,SAAAA,QAAQC,OACRsB,aAAAA,QAAYC,QAAQ,WAAY,EAAGT,SACnC,IAAMU,KAAOtB,KACbC,UAAUC,yBAAyBC,MAAK,SAAUC,SAnCtD,SAASmB,SAASD,KAAMlB,SACpB,EAAAhB,QAAAO,SAAE,+BAAgC2B,MAAMd,IAAIJ,OAAOC,yBAA2B,KAAO,IACrFR,SAAAA,QAAQ2B,OAkCJD,CAASD,KAAMlB","file":"streaming.js","sourcesContent":["import $ from 'jQuery';\nimport libraryMenu from 'libraryMenu';\nimport loading from 'loading';\nimport globalize from 'globalize';\n\n/* eslint-disable indent */\n\n    function loadPage(page, config) {\n        $('#txtRemoteClientBitrateLimit', page).val(config.RemoteClientBitrateLimit / 1e6 || '');\n        loading.hide();\n    }\n\n    function onSubmit() {\n        loading.show();\n        const form = this;\n        ApiClient.getServerConfiguration().then(function (config) {\n            config.RemoteClientBitrateLimit = parseInt(1e6 * parseFloat($('#txtRemoteClientBitrateLimit', form).val() || '0'));\n            ApiClient.updateServerConfiguration(config).then(Dashboard.processServerConfigurationUpdateResult);\n        });\n\n        return false;\n    }\n\n    function getTabs() {\n        return [{\n            href: 'encodingsettings.html',\n            name: globalize.translate('Transcoding')\n        }, {\n            href: 'playbackconfiguration.html',\n            name: globalize.translate('ButtonResume')\n        }, {\n            href: 'streamingsettings.html',\n            name: globalize.translate('TabStreaming')\n        }];\n    }\n\n    $(document).on('pageinit', '#streamingSettingsPage', function () {\n        $('.streamingSettingsForm').off('submit', onSubmit).on('submit', onSubmit);\n    }).on('pageshow', '#streamingSettingsPage', function () {\n        loading.show();\n        libraryMenu.setTabs('playback', 2, getTabs);\n        const page = this;\n        ApiClient.getServerConfiguration().then(function (config) {\n            loadPage(page, config);\n        });\n    });\n\n/* eslint-enable indent */\n"]}