{"version":3,"sources":["controllers/dashboard/notifications/notifications/index.js"],"names":["define","_exports","_loading","_globalize","_listViewStyle","_embyButton","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","_default","view","params","addEventListener","reload","page","loading","show","ApiClient","getJSON","getUrl","then","list","html","lastCategory","showHelp","map","notification","itemHtml","Category","globalize","translate","Type","Enabled","Name","join","length","querySelector","innerHTML","hide"],"mappings":"AAAAA,OAAO,CAAC,UAAW,UAAW,YAAa,gBAAiB,gBAAgB,SAAUC,SAAUC,SAAUC,WAAYC,eAAgBC,aACpI,aASA,SAASC,uBAAuBC,KAAO,OAAOA,KAAOA,IAAIC,WAAaD,IAAM,CAAEE,QAASF,KAPvFG,OAAOC,eAAeV,SAAU,aAAc,CAC5CW,OAAO,IAETX,SAASQ,QAkDI,SAAAI,SAAUC,KAAMC,QAC3BD,KAAKE,iBAAiB,YAAY,YApDtC,SAASC,OAAOC,MACZC,SAAAA,QAAQC,OACRC,UAAUC,QAAQD,UAAUE,OAAO,wBAAwBC,MAAK,SAAUC,MACtE,IAAIC,KAAO,GACPC,aAAe,GACfC,UAAW,EACfF,MAAQD,KAAKI,KAAI,SAAUC,cACvB,IAAIC,SAAW,GAgCf,OA/BID,aAAaE,WAAaL,gBAC1BA,aAAeG,aAAaE,YAExBD,UAAY,SACZA,UAAY,UAEhBA,UAAY,mEACZA,UAAY,iEACZA,UAAY,4BACZA,UAAYD,aAAaE,SACzBD,UAAY,QACRH,WACAA,UAAW,EACXG,UAAY,yJACZA,UAAYE,WAAAA,QAAUC,UAAU,QAChCH,UAAY,QAEhBA,UAAY,SACZA,UAAY,2BAEhBA,UAAY,oHAAsHD,aAAaK,KAAO,KAClJL,aAAaM,QACbL,UAAY,yEAEZA,UAAY,qGAEhBA,UAAY,6BACZA,UAAY,iCAAmCD,aAAaO,KAAO,SACnEN,UAAY,SACZA,UAAY,6GACZA,UAAY,UAEbO,KAAK,IAEJb,KAAKc,SACLb,MAAQ,SACRA,MAAQ,UAEZR,KAAKsB,cAAc,qBAAqBC,UAAYf,KACpDP,SAAAA,QAAQuB,UAMRzB,CAAOH,UA1DfZ,SAAAI,uBAAAJ,UACAC,WAAAG,uBAAAH","file":"index.js","sourcesContent":["import loading from 'loading';\nimport globalize from 'globalize';\nimport 'listViewStyle';\nimport 'emby-button';\n\nfunction reload(page) {\n    loading.show();\n    ApiClient.getJSON(ApiClient.getUrl('Notifications/Types')).then(function (list) {\n        let html = '';\n        let lastCategory = '';\n        let showHelp = true;\n        html += list.map(function (notification) {\n            let itemHtml = '';\n            if (notification.Category !== lastCategory) {\n                lastCategory = notification.Category;\n                if (lastCategory) {\n                    itemHtml += '</div>';\n                    itemHtml += '</div>';\n                }\n                itemHtml += '<div class=\"verticalSection verticalSection-extrabottompadding\">';\n                itemHtml += '<div class=\"sectionTitleContainer\" style=\"margin-bottom:1em;\">';\n                itemHtml += '<h2 class=\"sectionTitle\">';\n                itemHtml += notification.Category;\n                itemHtml += '</h2>';\n                if (showHelp) {\n                    showHelp = false;\n                    itemHtml += '<a is=\"emby-linkbutton\" class=\"raised button-alt headerHelpButton\" target=\"_blank\" href=\"https://docs.jellyfin.org/general/server/notifications.html\">';\n                    itemHtml += globalize.translate('Help');\n                    itemHtml += '</a>';\n                }\n                itemHtml += '</div>';\n                itemHtml += '<div class=\"paperList\">';\n            }\n            itemHtml += '<a class=\"listItem listItem-border\" is=\"emby-linkbutton\" data-ripple=\"false\" href=\"notificationsetting.html?type=' + notification.Type + '\">';\n            if (notification.Enabled) {\n                itemHtml += '<span class=\"listItemIcon material-icons notifications_active\"></span>';\n            } else {\n                itemHtml += '<span class=\"listItemIcon material-icons notifications_off\" style=\"background-color:#999;\"></span>';\n            }\n            itemHtml += '<div class=\"listItemBody\">';\n            itemHtml += '<div class=\"listItemBodyText\">' + notification.Name + '</div>';\n            itemHtml += '</div>';\n            itemHtml += '<button type=\"button\" is=\"paper-icon-button-light\"><span class=\"material-icons mode_edit\"></span></button>';\n            itemHtml += '</a>';\n            return itemHtml;\n        }).join('');\n\n        if (list.length) {\n            html += '</div>';\n            html += '</div>';\n        }\n        page.querySelector('.notificationList').innerHTML = html;\n        loading.hide();\n    });\n}\n\nexport default function (view, params) {\n    view.addEventListener('viewshow', function () {\n        reload(view);\n    });\n}\n"]}