{"version":3,"sources":["components/actionSheet/actionSheet.js"],"names":["define","_require","_exports","_dialogHelper","_layoutManager","_globalize","_dom","_embyButton","_actionSheet","_materialIcons","_scrollStyles","_listViewStyle","_interopRequireDefault","obj","__esModule","default","_typeof","Symbol","iterator","constructor","prototype","_getRequireWildcardCache","WeakMap","cache","_createForOfIteratorHelper","o","allowArrayLike","it","Array","isArray","_unsupportedIterableToArray","minLen","_arrayLikeToArray","n","Object","toString","call","slice","name","from","test","length","i","F","s","done","value","e","_e","f","TypeError","err","normalCompletion","didErr","step","next","_e2","return","arr","len","arr2","getPosition","options","dlg","windowSize","dom","getWindowSize","windowHeight","innerHeight","windowWidth","innerWidth","pos","getOffsets","elems","results","document","_step","_iterator","box","getBoundingClientRect","push","top","left","width","height","positionTo","positionY","offsetHeight","offsetWidth","overflowX","overflowY","offsetTop","offsetLeft","Math","max","centerFocus","elem","horiz","on","Promise","_resolve","_reject","imported","_interopRequireWildcard","has","get","newObj","hasPropertyDescriptor","defineProperty","getOwnPropertyDescriptor","key","hasOwnProperty","desc","set","then","_ref","scrollHelper","fn","show","isFullscreen","dialogOptions","removeOnClose","enableHistory","scrollY","layoutManager","tv","size","autoFocus","modal","entryAnimation","exitAnimation","entryAnimationDuration","exitAnimationDuration","dialogHelper","createDialog","classList","add","dialogClass","html","scrollClassName","style","items","itemIcon","_step2","renderIcon","icons","_iterator2","item","icon","selected","center","title","text","scrollerClassName","menuItemClass","border","shaded","mobile","divider","id","concat","textContent","innerText","secondaryText","asideText","showCancel","globalize","translate","innerHTML","querySelector","selectedId","timeout","btnCloseActionSheet","addEventListener","close","setTimeout","resolve","reject","isResolved","actionSheetMenuItem","parentWithClass","target","getAttribute","resolveOnClick","indexOf","clearTimeout","callback","open","position","margin","_default"],"mappings":"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","file":"actionSheet.js","sourcesContent":["import dialogHelper from 'dialogHelper';\nimport layoutManager from 'layoutManager';\nimport globalize from 'globalize';\nimport dom from 'dom';\nimport 'emby-button';\nimport 'css!./actionSheet';\nimport 'material-icons';\nimport 'scrollStyles';\nimport 'listViewStyle';\n\nfunction getOffsets(elems) {\n    const results = [];\n\n    if (!document) {\n        return results;\n    }\n\n    for (const elem of elems) {\n        const box = elem.getBoundingClientRect();\n\n        results.push({\n            top: box.top,\n            left: box.left,\n            width: box.width,\n            height: box.height\n        });\n    }\n\n    return results;\n}\n\nfunction getPosition(options, dlg) {\n    const windowSize = dom.getWindowSize();\n    const windowHeight = windowSize.innerHeight;\n    const windowWidth = windowSize.innerWidth;\n\n    const pos = getOffsets([options.positionTo])[0];\n\n    if (options.positionY !== 'top') {\n        pos.top += (pos.height || 0) / 2;\n    }\n\n    pos.left += (pos.width || 0) / 2;\n\n    const height = dlg.offsetHeight || 300;\n    const width = dlg.offsetWidth || 160;\n\n    // Account for popup size\n    pos.top -= height / 2;\n    pos.left -= width / 2;\n\n    // Avoid showing too close to the bottom\n    const overflowX = pos.left + width - windowWidth;\n    const overflowY = pos.top + height - windowHeight;\n\n    if (overflowX > 0) {\n        pos.left -= (overflowX + 20);\n    }\n    if (overflowY > 0) {\n        pos.top -= (overflowY + 20);\n    }\n\n    pos.top += (options.offsetTop || 0);\n    pos.left += (options.offsetLeft || 0);\n\n    // Do some boundary checking\n    pos.top = Math.max(pos.top, 10);\n    pos.left = Math.max(pos.left, 10);\n\n    return pos;\n}\n\nfunction centerFocus(elem, horiz, on) {\n    import('scrollHelper').then(({default: scrollHelper}) => {\n        const fn = on ? 'on' : 'off';\n        scrollHelper.centerFocus[fn](elem, horiz);\n    });\n}\n\nexport function show(options) {\n    // items\n    // positionTo\n    // showCancel\n    // title\n    const dialogOptions = {\n        removeOnClose: true,\n        enableHistory: options.enableHistory,\n        scrollY: false\n    };\n\n    let isFullscreen;\n\n    if (layoutManager.tv) {\n        dialogOptions.size = 'fullscreen';\n        isFullscreen = true;\n        dialogOptions.autoFocus = true;\n    } else {\n        dialogOptions.modal = false;\n        dialogOptions.entryAnimation = options.entryAnimation;\n        dialogOptions.exitAnimation = options.exitAnimation;\n        dialogOptions.entryAnimationDuration = options.entryAnimationDuration || 140;\n        dialogOptions.exitAnimationDuration = options.exitAnimationDuration || 100;\n        dialogOptions.autoFocus = false;\n    }\n\n    const dlg = dialogHelper.createDialog(dialogOptions);\n\n    if (isFullscreen) {\n        dlg.classList.add('actionsheet-fullscreen');\n    } else {\n        dlg.classList.add('actionsheet-not-fullscreen');\n    }\n\n    dlg.classList.add('actionSheet');\n\n    if (options.dialogClass) {\n        dlg.classList.add(options.dialogClass);\n    }\n\n    let html = '';\n\n    const scrollClassName = layoutManager.tv ? 'scrollY smoothScrollY hiddenScrollY' : 'scrollY';\n    let style = '';\n\n    // Admittedly a hack but right now the scrollbar is being factored into the width which is causing truncation\n    if (options.items.length > 20) {\n        const minWidth = dom.getWindowSize().innerWidth >= 300 ? 240 : 200;\n        style += 'min-width:' + minWidth + 'px;';\n    }\n\n    let renderIcon = false;\n    const icons = [];\n    let itemIcon;\n    for (const item of options.items) {\n        itemIcon = item.icon || (item.selected ? 'check' : null);\n\n        if (itemIcon) {\n            renderIcon = true;\n        }\n        icons.push(itemIcon || '');\n    }\n\n    if (layoutManager.tv) {\n        html += `<button is=\"paper-icon-button-light\" class=\"btnCloseActionSheet hide-mouse-idle-tv\" tabindex=\"-1\">\n                     <span class=\"material-icons arrow_back\"></span>\n                 </button>`;\n    }\n\n    // If any items have an icon, give them all an icon just to make sure they're all lined up evenly\n    const center = options.title && (!renderIcon /*|| itemsWithIcons.length != options.items.length*/);\n\n    if (center || layoutManager.tv) {\n        html += '<div class=\"actionSheetContent actionSheetContent-centered\">';\n    } else {\n        html += '<div class=\"actionSheetContent\">';\n    }\n\n    if (options.title) {\n        html += '<h1 class=\"actionSheetTitle\">' + options.title + '</h1>';\n    }\n    if (options.text) {\n        html += '<p class=\"actionSheetText\">' + options.text + '</p>';\n    }\n\n    let scrollerClassName = 'actionSheetScroller';\n    if (layoutManager.tv) {\n        scrollerClassName += ' actionSheetScroller-tv focuscontainer-x focuscontainer-y';\n    }\n    html += '<div class=\"' + scrollerClassName + ' ' + scrollClassName + '\" style=\"' + style + '\">';\n\n    let menuItemClass = 'listItem listItem-button actionSheetMenuItem';\n\n    if (options.border || options.shaded) {\n        menuItemClass += ' listItem-border';\n    }\n\n    if (options.menuItemClass) {\n        menuItemClass += ' ' + options.menuItemClass;\n    }\n\n    if (layoutManager.tv) {\n        menuItemClass += ' listItem-focusscale';\n    }\n\n    if (layoutManager.mobile) {\n        menuItemClass += ' actionsheet-xlargeFont';\n    }\n\n    // 'options.items' is HTMLOptionsCollection, so no fancy loops\n    for (let i = 0; i < options.items.length; i++) {\n        const item = options.items[i];\n\n        if (item.divider) {\n            html += '<div class=\"actionsheetDivider\"></div>';\n            continue;\n        }\n\n        const autoFocus = item.selected && layoutManager.tv ? ' autoFocus' : '';\n\n        // Check for null in case int 0 was passed in\n        const optionId = item.id == null || item.id === '' ? item.value : item.id;\n        html += '<button' + autoFocus + ' is=\"emby-button\" type=\"button\" class=\"' + menuItemClass + '\" data-id=\"' + optionId + '\">';\n\n        itemIcon = icons[i];\n\n        if (itemIcon) {\n            html += `<span class=\"actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons ${itemIcon}\"></span>`;\n        } else if (renderIcon && !center) {\n            html += '<span class=\"actionsheetMenuItemIcon listItemIcon listItemIcon-transparent material-icons check\" style=\"visibility:hidden;\"></span>';\n        }\n\n        html += '<div class=\"listItemBody actionsheetListItemBody\">';\n\n        html += '<div class=\"listItemBodyText actionSheetItemText\">';\n        html += (item.name || item.textContent || item.innerText);\n        html += '</div>';\n\n        if (item.secondaryText) {\n            html += `<div class=\"listItemBodyText secondary\">${item.secondaryText}</div>`;\n        }\n\n        html += '</div>';\n\n        if (item.asideText) {\n            html += `<div class=\"listItemAside actionSheetItemAsideText\">${item.asideText}</div>`;\n        }\n\n        html += '</button>';\n    }\n\n    if (options.showCancel) {\n        html += '<div class=\"buttons\">';\n        html += `<button is=\"emby-button\" type=\"button\" class=\"btnCloseActionSheet\">${globalize.translate('ButtonCancel')}</button>`;\n        html += '</div>';\n    }\n    html += '</div>';\n\n    dlg.innerHTML = html;\n\n    if (layoutManager.tv) {\n        centerFocus(dlg.querySelector('.actionSheetScroller'), false, true);\n    }\n\n    const btnCloseActionSheet = dlg.querySelector('.btnCloseActionSheet');\n    if (btnCloseActionSheet) {\n        btnCloseActionSheet.addEventListener('click', function () {\n            dialogHelper.close(dlg);\n        });\n    }\n\n    let selectedId;\n\n    let timeout;\n    if (options.timeout) {\n        timeout = setTimeout(function () {\n            dialogHelper.close(dlg);\n        }, options.timeout);\n    }\n\n    return new Promise(function (resolve, reject) {\n        let isResolved;\n\n        dlg.addEventListener('click', function (e) {\n            const actionSheetMenuItem = dom.parentWithClass(e.target, 'actionSheetMenuItem');\n\n            if (actionSheetMenuItem) {\n                selectedId = actionSheetMenuItem.getAttribute('data-id');\n\n                if (options.resolveOnClick) {\n                    if (options.resolveOnClick.indexOf) {\n                        if (options.resolveOnClick.indexOf(selectedId) !== -1) {\n                            resolve(selectedId);\n                            isResolved = true;\n                        }\n                    } else {\n                        resolve(selectedId);\n                        isResolved = true;\n                    }\n                }\n\n                dialogHelper.close(dlg);\n            }\n        });\n\n        dlg.addEventListener('close', function () {\n            if (layoutManager.tv) {\n                centerFocus(dlg.querySelector('.actionSheetScroller'), false, false);\n            }\n\n            if (timeout) {\n                clearTimeout(timeout);\n                timeout = null;\n            }\n\n            if (!isResolved) {\n                if (selectedId != null) {\n                    if (options.callback) {\n                        options.callback(selectedId);\n                    }\n\n                    resolve(selectedId);\n                } else {\n                    reject();\n                }\n            }\n        });\n\n        dialogHelper.open(dlg);\n\n        const pos = options.positionTo && dialogOptions.size !== 'fullscreen' ? getPosition(options, dlg) : null;\n\n        if (pos) {\n            dlg.style.position = 'fixed';\n            dlg.style.margin = 0;\n            dlg.style.left = pos.left + 'px';\n            dlg.style.top = pos.top + 'px';\n        }\n    });\n}\n\nexport default {\n    show: show\n};\n"]}