{"version":3,"sources":["elements/emby-progressbar/emby-progressbar.js"],"names":["define","ProgressBarPrototype","Object","create","HTMLDivElement","prototype","onAutoTimeProgress","start","parseInt","this","getAttribute","end","pct","Date","getTime","Math","min","max","querySelector","style","width","attachedCallback","timeInterval","clearInterval","setInterval","bind","detachedCallback","document","registerElement","extends"],"mappings":"AAAAA,OAAO,IAAI,WACT,aACE,IAAMC,qBAAuBC,OAAOC,OAAOC,eAAeC,WAE1D,SAASC,qBACL,IAAMC,MAAQC,SAASC,KAAKC,aAAa,mBACnCC,IAAMH,SAASC,KAAKC,aAAa,iBAInCE,MAFQ,IAAIC,MAAOC,UAECP,QADVI,IAAMJ,OACV,IAEVK,IAAMG,KAAKC,IAAI,IAAKJ,KACpBA,IAAMG,KAAKE,IAAI,EAAGL,KAEgBH,KAAKS,cAAc,8BAC3BC,MAAMC,MAAQR,IAAM,IAGlDX,qBAAqBoB,iBAAmB,WAChCZ,KAAKa,cACLC,cAAcd,KAAKa,cAGoB,SAAvCb,KAAKC,aAAa,mBAClBD,KAAKa,aAAeE,YAAYlB,mBAAmBmB,KAAKhB,MAAO,OAIvER,qBAAqByB,iBAAmB,WAChCjB,KAAKa,eACLC,cAAcd,KAAKa,cACnBb,KAAKa,aAAe,OAI5BK,SAASC,gBAAgB,mBAAoB,CACzCvB,UAAWJ,qBACX4B,QAAS","file":"emby-progressbar.js","sourcesContent":["/* eslint-disable indent */\n\n    const ProgressBarPrototype = Object.create(HTMLDivElement.prototype);\n\n    function onAutoTimeProgress() {\n        const start = parseInt(this.getAttribute('data-starttime'));\n        const end = parseInt(this.getAttribute('data-endtime'));\n\n        const now = new Date().getTime();\n        const total = end - start;\n        let pct = 100 * ((now - start) / total);\n\n        pct = Math.min(100, pct);\n        pct = Math.max(0, pct);\n\n        const itemProgressBarForeground = this.querySelector('.itemProgressBarForeground');\n        itemProgressBarForeground.style.width = pct + '%';\n    }\n\n    ProgressBarPrototype.attachedCallback = function () {\n        if (this.timeInterval) {\n            clearInterval(this.timeInterval);\n        }\n\n        if (this.getAttribute('data-automode') === 'time') {\n            this.timeInterval = setInterval(onAutoTimeProgress.bind(this), 60000);\n        }\n    };\n\n    ProgressBarPrototype.detachedCallback = function () {\n        if (this.timeInterval) {\n            clearInterval(this.timeInterval);\n            this.timeInterval = null;\n        }\n    };\n\n    document.registerElement('emby-progressbar', {\n        prototype: ProgressBarPrototype,\n        extends: 'div'\n    });\n\n/* eslint-enable indent */\n"]}