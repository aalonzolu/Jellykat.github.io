{"version":3,"sources":["elements/emby-button/emby-button.js"],"names":["define","_exports","_dom","_layoutManager","_shell","_appRouter","_apphost","_embyButton","_webcomponents","_interopRequireDefault","obj","__esModule","default","Object","defineProperty","value","EmbyButtonPrototype","create","HTMLButtonElement","prototype","EmbyLinkButtonPrototype","HTMLAnchorElement","onAnchorClick","e","href","this","getAttribute","appHost","supports","preventDefault","shell","openUrl","appRouter","handleAnchorClick","createdCallback","classList","contains","add","layoutManager","tv","attachedCallback","tagName","dom","removeEventListener","addEventListener","remove","detachedCallback","document","registerElement","extends","_default"],"mappings":"AAAAA,OAAO,CAAC,UAAW,MAAO,gBAAiB,QAAS,YAAa,UAAW,oBAAqB,kBAAkB,SAAUC,SAAUC,KAAMC,eAAgBC,OAAQC,WAAYC,SAAUC,YAAaC,gBACtM,aAYA,SAASC,uBAAuBC,KAAO,OAAOA,KAAOA,IAAIC,WAAaD,IAAM,CAAEE,QAASF,KAVvFG,OAAOC,eAAeb,SAAU,aAAc,CAC5Cc,OAAO,IAETd,SAASW,aAAU,EANrBV,KAAAO,uBAAAP,MACAC,eAAAM,uBAAAN,gBACAC,OAAAK,uBAAAL,QACAC,WAAAI,uBAAAJ,YACAC,SAAAG,uBAAAH,UAIA,IAAMU,oBAAsBH,OAAOI,OAAOC,kBAAkBC,WACtDC,wBAA0BP,OAAOI,OAAOI,kBAAkBF,WAEhE,SAASG,cAAcC,GACnB,IAAMC,KAAOC,KAAKC,aAAa,SAAW,GAC7B,MAATF,KACIC,KAAKC,aAAa,UACbC,SAAAA,QAAQC,SAAS,iBAClBL,EAAEM,iBACFC,OAAAA,QAAMC,QAAQP,OAGlBQ,WAAAA,QAAUC,kBAAkBV,GAGhCA,EAAEM,iBAIVb,oBAAoBkB,gBAAkB,WAC9BT,KAAKU,UAAUC,SAAS,iBAI5BX,KAAKU,UAAUE,IAAI,eAEfC,eAAAA,QAAcC,IAGdd,KAAKU,UAAUE,IAAI,gBAI3BrB,oBAAoBwB,iBAAmB,WACd,MAAjBf,KAAKgB,UACLC,KAAAA,QAAIC,oBAAoBlB,KAAM,QAASH,cAAe,IACtDoB,KAAAA,QAAIE,iBAAiBnB,KAAM,QAASH,cAAe,IAER,SAAvCG,KAAKC,aAAa,mBACdC,SAAAA,QAAQC,SAAS,iBACjBH,KAAKU,UAAUU,OAAO,QAEtBpB,KAAKU,UAAUE,IAAI,WAMnCrB,oBAAoB8B,iBAAmB,WACnCJ,KAAAA,QAAIC,oBAAoBlB,KAAM,QAASH,cAAe,KAG1DF,wBAAwBc,gBAAkBlB,oBAAoBkB,gBAC9Dd,wBAAwBoB,iBAAmBxB,oBAAoBwB,iBAE/DO,SAASC,gBAAgB,cAAe,CACpC7B,UAAWH,oBACXiC,QAAS,WAGbF,SAASC,gBAAgB,kBAAmB,CACxC7B,UAAWC,wBACX6B,QAAS,MAUX,IAAIC,SAPSlC,oBAQbf,SAASW,QAAUsC","file":"emby-button.js","sourcesContent":["import dom from 'dom';\nimport layoutManager from 'layoutManager';\nimport shell from 'shell';\nimport appRouter from 'appRouter';\nimport appHost from 'apphost';\nimport 'css!./emby-button';\nimport 'webcomponents';\n\nconst EmbyButtonPrototype = Object.create(HTMLButtonElement.prototype);\nconst EmbyLinkButtonPrototype = Object.create(HTMLAnchorElement.prototype);\n\nfunction onAnchorClick(e) {\n    const href = this.getAttribute('href') || '';\n    if (href !== '#') {\n        if (this.getAttribute('target')) {\n            if (!appHost.supports('targetblank')) {\n                e.preventDefault();\n                shell.openUrl(href);\n            }\n        } else {\n            appRouter.handleAnchorClick(e);\n        }\n    } else {\n        e.preventDefault();\n    }\n}\n\nEmbyButtonPrototype.createdCallback = function () {\n    if (this.classList.contains('emby-button')) {\n        return;\n    }\n\n    this.classList.add('emby-button');\n    // TODO replace all instances of element-showfocus with this method\n    if (layoutManager.tv) {\n        // handles all special css for tv layout\n        // this method utilizes class chaining\n        this.classList.add('show-focus');\n    }\n};\n\nEmbyButtonPrototype.attachedCallback = function () {\n    if (this.tagName === 'A') {\n        dom.removeEventListener(this, 'click', onAnchorClick, {});\n        dom.addEventListener(this, 'click', onAnchorClick, {});\n\n        if (this.getAttribute('data-autohide') === 'true') {\n            if (appHost.supports('externallinks')) {\n                this.classList.remove('hide');\n            } else {\n                this.classList.add('hide');\n            }\n        }\n    }\n};\n\nEmbyButtonPrototype.detachedCallback = function () {\n    dom.removeEventListener(this, 'click', onAnchorClick, {});\n};\n\nEmbyLinkButtonPrototype.createdCallback = EmbyButtonPrototype.createdCallback;\nEmbyLinkButtonPrototype.attachedCallback = EmbyButtonPrototype.attachedCallback;\n\ndocument.registerElement('emby-button', {\n    prototype: EmbyButtonPrototype,\n    extends: 'button'\n});\n\ndocument.registerElement('emby-linkbutton', {\n    prototype: EmbyLinkButtonPrototype,\n    extends: 'a'\n});\n\nexport default EmbyButtonPrototype;\n"]}