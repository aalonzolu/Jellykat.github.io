define(["emby-progressring","dom","serverNotifications","events","webcomponents"],(function(_embyProgressring,_dom,_serverNotifications,_events,_webcomponents){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function onRefreshProgress(e,apiClient,info){if(this.itemId||(this.itemId=_dom.default.parentWithAttribute(this,"data-id").getAttribute("data-id")),info.ItemId===this.itemId){var progress=parseFloat(info.Progress);progress&&progress<100?this.classList.remove("hide"):this.classList.add("hide"),this.setAttribute("data-progress",progress)}}_embyProgressring=_interopRequireDefault(_embyProgressring),_dom=_interopRequireDefault(_dom),_serverNotifications=_interopRequireDefault(_serverNotifications),_events=_interopRequireDefault(_events);var EmbyItemRefreshIndicatorPrototype=Object.create(_embyProgressring.default);EmbyItemRefreshIndicatorPrototype.createdCallback=function(){_embyProgressring.default.createdCallback&&_embyProgressring.default.createdCallback.call(this),function addNotificationEvent(instance,name,handler){var localHandler=handler.bind(instance);_events.default.on(_serverNotifications.default,name,localHandler),instance[name]=localHandler}(this,"RefreshProgress",onRefreshProgress)},EmbyItemRefreshIndicatorPrototype.attachedCallback=function(){_embyProgressring.default.attachedCallback&&_embyProgressring.default.attachedCallback.call(this)},EmbyItemRefreshIndicatorPrototype.detachedCallback=function(){_embyProgressring.default.detachedCallback&&_embyProgressring.default.detachedCallback.call(this),function removeNotificationEvent(instance,name){var handler=instance[name];handler&&(_events.default.off(_serverNotifications.default,name,handler),instance[name]=null)}(this,"RefreshProgress"),this.itemId=null},document.registerElement("emby-itemrefreshindicator",{prototype:EmbyItemRefreshIndicatorPrototype,extends:"div"})}));
//# sourceMappingURL=emby-itemrefreshindicator.js.map
