define(["browser","dom","css!./emby-checkbox","webcomponents"],(function(_browser,_dom,_embyCheckbox,_webcomponents){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}_browser=_interopRequireDefault(_browser),_dom=_interopRequireDefault(_dom);var EmbyCheckboxPrototype=Object.create(HTMLInputElement.prototype);function onKeyDown(e){if(13===e.keyCode||32===e.keyCode&&_browser.default.tizen)return e.preventDefault(),this.checked=!this.checked,this.dispatchEvent(new CustomEvent("change",{bubbles:!0})),!1}var enableRefreshHack=!!(_browser.default.tizen||_browser.default.orsay||_browser.default.operaTv||_browser.default.web0s);function forceRefresh(loading){var elem=this.parentNode;elem.style.webkitAnimationName="repaintChrome",elem.style.webkitAnimationDelay=!0===loading?"500ms":"",elem.style.webkitAnimationDuration="10ms",elem.style.webkitAnimationIterationCount="1",setTimeout((function(){elem.style.webkitAnimationName=""}),!0===loading?520:20)}EmbyCheckboxPrototype.attachedCallback=function(){if("true"!==this.getAttribute("data-embycheckbox")){this.setAttribute("data-embycheckbox","true"),this.classList.add("emby-checkbox");var labelElement=this.parentNode;labelElement.classList.add("emby-checkbox-label");var labelTextElement=labelElement.querySelector("span"),outlineClass="checkboxOutline",customClass=this.getAttribute("data-outlineclass");customClass&&(outlineClass+=" "+customClass);var checkHtml='<span class="material-icons checkboxIcon checkboxIcon-checked '+(this.getAttribute("data-checkedicon")||"check")+'"></span>',uncheckedHtml='<span class="material-icons checkboxIcon checkboxIcon-unchecked '+(this.getAttribute("data-uncheckedicon")||"")+'"></span>';labelElement.insertAdjacentHTML("beforeend",'<span class="'+outlineClass+'">'+checkHtml+uncheckedHtml+"</span>"),labelTextElement.classList.add("checkboxLabel"),this.addEventListener("keydown",onKeyDown),enableRefreshHack&&(forceRefresh.call(this,!0),_dom.default.addEventListener(this,"click",forceRefresh,{passive:!0}),_dom.default.addEventListener(this,"blur",forceRefresh,{passive:!0}),_dom.default.addEventListener(this,"focus",forceRefresh,{passive:!0}),_dom.default.addEventListener(this,"change",forceRefresh,{passive:!0}))}},EmbyCheckboxPrototype.detachedCallback=function(){this.removeEventListener("keydown",onKeyDown),_dom.default.removeEventListener(this,"click",forceRefresh,{passive:!0}),_dom.default.removeEventListener(this,"blur",forceRefresh,{passive:!0}),_dom.default.removeEventListener(this,"focus",forceRefresh,{passive:!0}),_dom.default.removeEventListener(this,"change",forceRefresh,{passive:!0})},document.registerElement("emby-checkbox",{prototype:EmbyCheckboxPrototype,extends:"input"})}));
//# sourceMappingURL=emby-checkbox.js.map
